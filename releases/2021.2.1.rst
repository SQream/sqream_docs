.. _2021.2.1:

**************************
Release Notes 2021.2.1
**************************
The 2021.2.1 release notes were released on 15/12/2021 and describes the following:

.. contents:: 
   :local:
   :depth: 1

New Features
-------------
The 2021.2.1 Release Notes include the following new features:

.. contents:: 
   :local:
   :depth: 1
   
CREATE TABLE
************
SQream now supports duplicating the column structure of an existing table using the ``LIKE`` clause.

For more information, see `Duplicating the Column Structure of an Existing Table <https://docs.sqream.com/en/latest/reference/sql/sql_statements/ddl_commands/create_table.html#duplicating-the-column-structure-of-an-existing-table>`_.

PERCENTILE FUNCTIONS
************
SQream now supports the following aggregation functions:

* :ref:`percentile_cont`
* :ref:`percentile_disc`
* :ref:`mode`

REGEX REPLACE
************   
SQream now supports the ``REGEXP_REPLACE`` function for finding and replacing text column substrings.

For more information, see :ref:`regexp_replace`.

Delete Optimization
************
The ``DELETE`` statement can now delete values that contain multi-table conditions.

For more information, see `Deleting Values that Contain Multi-Table Conditions <https://docs.sqream.com/en/latest/reference/sql/sql_statements/dml_commands/delete.html#deleting-values-that-contain-multi-table-conditions>`_.

For more information, see :ref:`regexp_replace`.

Performance Enhancements
------
The **Performance Enhancements** section is not relevant to Version 2021.2.1.

Resolved Issues
-------------
The following table lists the issues that were resolved in Version 2021.2.1:

.. list-table::
   :widths: 17 200
   :header-rows: 1  
   
   * - SQ No.
     - Description
   * - SQ-8267
     - A method has been provided for including the ``GROUP BY`` and ``DISTINCT COUNT`` statements.

The following table lists the issues that were resolved in Version 2021.2.1.1:

.. list-table::
   :widths: 17 200
   :header-rows: 1  
   
   * - SQ No.
     - Description
   * - SQ-9114
     - `cleanup_extents` on empty texts results in a missing file
   * - SQ-8849
     - Unclear "Map:at" error for invalid column mapping of Parquet files
 	 
The following table lists the issues that were resolved in Version 2021.2.1.23:

.. list-table::
   :widths: 17 200
   :header-rows: 1  
   
   * - SQ No.
     - Description
   * - SQ-10703
     -  it implements a FILTER on delete statements which means that delete statements would not scan the entire metadata but only according to the filter

Known Issues
------
The **Known Issues** section is not relevant to 2021.2.1.

The following table lists the issues that were resolved in Version 2021.2.1.1:

.. list-table::
   :widths: 17 200
   :header-rows: 1  
   
   * - SQ No.
     - Description
   * - SQ-9003
     - Insert as Select with Order By - Internal Runtime Error
   * - SQ-9121
     - Support cleanup_extents with empty text columns for cloud environment
   * - SQ-8954
     - GCP one worker crash when copying a table using 8 workers
   * - SQ-5485
     - The compiler has an issue with count being used as an alias and in the select list
   * - SQ-7732
     - Fail to read numeric (38,0) from parquet
   * - SQ-7800
     - AWS - Creating 4,000,000 chunks in leveldb by a copy operation causes segmentation fault in leveldb
   * - SQ-7903
     - Filters and metadata_filters doesn't work well for numeric/float literals without an explicit cast
   * - SQ-7931
     - Difference to Postgres when comparing literal float4 and float8
   * - SQ-8274
     - Cast to numeric with default precision doesn't work
	 
The **Known Issues** section is not relevant to Version 2021.2.1.23.

Naming Convention Modifications
------
The **Naming Convention Modifications** section is not relevant to Version 2021.2.1.

End of Support
------
The **End of Support** section is not relevant to Version 2021.2.1.

Deprecated Features
------
The **Deprecated Components** section is not relevant to Version 2021.2.1.