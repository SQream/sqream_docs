.. _2021.2:

**************************
What's New in 2021.2
**************************
The 2021.2 Release Notes describe the following releases:

.. contents:: 
   :local:
   :depth: 1



   
Release Notes Version 2021.2.1
============================
The 2021.2.1 release notes were released on 13/9/2021.

New Features
-------------
The 2021.2.1 Release Notes include the following new features:

.. contents:: 
   :local:
   :depth: 2
   
New Percentile and Mode Aggregate Functions
************
SQream now supports the following aggregate functions:

.. list-table::
   :widths: 10 49 23 23
   :header-rows: 1
   
   * - Function
     - Description
     - Input
     - Output
   * - **PERCENTILE_CONT**
     - Returns the value located in the selected percentile of a specified column. If the selected percentile does not have an exact value, this function extrapolates a value estimated from the existing values.
     - A number between **0** and **1** that represents the wanted percentile. 
     - Double
   * - **PERCENTILE_DISC**
     - Returns the value in the selected percentile of a specified column. If the selected percentile does not have an exact value, this function returns the closest value beneath the requested percentile.
     - A number between **0** and **1** that represents the wanted percentile. 
     - The value of the same type as the selected column.
   * - **MODE**
     - Returns the most common value in the selected column. If there are no repeating values, or if there is the same frequency of multiple values, this function returns the top value based on the ``ORDER BY`` clause.
     - NA
     - The value of the same type as the selected column.

For more information, see `Aggregate Functions <https://docs.sqream.com/en/latest/reference/sql/sql_functions/aggregate_functions/index.html>`_.




   
Creating a Table Based on the Column Structure of Another Table
************
When creating tables, SQream now supports duplicating the column structure of an existing table using the ``LIKE`` clause.

For more information, see `Duplicating the Column Structure of an Existing Table <https://docs.sqream.com/en/latest/reference/sql/sql_statements/ddl_commands/create_table.html#duplicating-the-column-structure-of-an-existing-table>`_.





Release Notes Version 2021.2
============================
The 2021.2 release notes were released on 13/9/2021.

New Features
----------
The 2021.2 Release Notes include the following new features:

.. contents:: 
   :local:
   :depth: 1
   
Qualifying Schemas Without Providing an Alias
************
When running queries, SQream now supports qualifying schemas without providing an alias.

For more information, see `CREATE SCHEMA <https://docs.sqream.com/en/latest/reference/sql/sql_statements/ddl_commands/create_schema.html>`_.





Double-Quotations Supported When Importing and Exporting CSVs
************
When importing and exporting CSVs, SQream now supports using quotation characters other than double quotation marks (``"``).

For more information, see the following:

* `COPY FROM <https://docs.sqream.com/en/v2021.2/reference/sql/sql_statements/dml_commands/copy_from.html>`_

   
* `COPY TO <https://docs.sqream.com/en/v2021.2/reference/sql/sql_statements/dml_commands/copy_to.html>`_


Note the following:

* Leaving *<x>* unspecified uses the default value of standard double quotations ``‚Äù``.

   ::

* The quotation character must be a single, 1-byte printable ASCII character. The same octal syntax of the copy command can be used.

   ::

* The quote character cannot be contained in the field delimiter, record delimiter, or null marker.

   ::
   
* Double-quotations can be customized when the ``csv_fdw`` value is used with the ``COPY FROM`` and ``CREATE FOREIGN TABLE`` statements.

   ::

* The default escape character always matches the quote character, and can be overridden by using the ``ESCAPE = {'\\' | E'\XXX')`` syntax as shown in the following examples:

  .. code-block:: postgres

     copy t from wrapper csv_fdw options (location = '/tmp/file.csv', escape='\\');

  .. code-block:: postgres

     copy t from wrapper csv_fdw options (location = '/tmp/file.csv', escape=E'\017');

  .. code-block:: postgres

     copy t to wrapper csv_fdw options (location = '/tmp/file.csv', escape='\\');
	 
For more information, see the following statements:

* `COPY FROM <https://docs.sqream.com/en/v2021.2/reference/sql/sql_statements/dml_commands/copy_from.html>`_ - Loading data from files on the filesystem and importing it into SQream tables.

   ::

* `CREATE FOREIGN TABLE <https://docs.sqream.com/en/latest/reference/sql/sql_statements/ddl_commands/create_foreign_table.html>`_ - Creating a new foreign table in an existing database.
