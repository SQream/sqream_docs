.. _2022.1.1:

**************************
Release Notes 2022.1.1
**************************
The 2022.1.1 patch release notes were released on xx/xx/2022 and describe the following: 

.. contents:: 
   :local:
   :depth: 1

Version Content
----------
The **Version Content** section is not relevant to the 2022.1.1 patch release notes.

New Features
----------
The 2022.1.1 release includes automatically identifying schemas when mapping foreign tables, described below.

Automatically Identifying Schemas when Mapping Foreign Tables
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
SQream can now automatically identify the corresponding schema, avoiding complex error-prone DDL operations, saving you the time and effort required to build your schema manually. This is especially useful for particular file formats, such as Parquet, which include a built-in schema declaration. In addition, this feature improves user experience by letting you quickly load foreign tables without specifying hundred of columns. 

For more information, see :ref:`automatic_schema_identification`.
   
Resolved Issues
---------
The following table lists the issues that were resolved in the 2022.1.1 patch release:

+-------------+-----------------------------------------------------------------------------------------------------------------------+
| **SQ No.**  | **Description**                                                                                                       |
+=============+=======================================================================================================================+
| SQ-6419     | An internal compiler error occurred when casting a numeric literal in an aggregation function.                        |
+-------------+-----------------------------------------------------------------------------------------------------------------------+
| SQ-10873    | Inserting 100K bytes into a ``TEXT`` column resulted in an unclear error message.                                     |
+-------------+-----------------------------------------------------------------------------------------------------------------------+
| SQ-10886    | An internal compiler error occurred during the compilation process.                                                   |
+-------------+-----------------------------------------------------------------------------------------------------------------------+
| SQ-10892    | The error message displayed when ``UPDATE`` is run on a foreign table was corrected.                                  |
+-------------+-----------------------------------------------------------------------------------------------------------------------+
| SQ-10955    | Unneeded reads occured when filtering by date.                                                                        |
+-------------+-----------------------------------------------------------------------------------------------------------------------+

Known Issues
---------
The **Known Issues** section is not relevant to Version 2022.1.1.

Operations and Configuration Changes
--------
The **Operations and Configuration Changes** section is not relevant to the 2022.1.1 patch release notes.

Naming Changes
-------
The **Naming Changes** section is not relevant to the 2022.1.1 patch release notes.

Deprecated Features
-------
The **Deprecated Features** section is not relevant to the 2022.1.1 patch release.

End of Support
-------
The **End of Support** section is not relevant to the 2022.1.1 patch release.

Upgrading to v2022.1.1
-------
1. Generate a back-up of the metadata by running the following command:

   .. code-block:: console

      $ select backup_metadata('out_path');
	  
   .. tip:: SQream recommends storing the generated back-up locally in case needed.
   
   SQream runs the Garbage Collector and creates a clean backup tarball package.
   
2. Shut down all SQream services.

    ::

3. Extract the recently created back-up file.

    ::

4. Replace your current metadata with the metadata you stored in the back-up file.

    ::

5. Navigate to the new SQream package bin folder.

    ::

6. Run the following command:

   .. code-block:: console

      $ ./upgrade_storage <levelDB path>

  .. note:: Upgrading from a major version to another major version requires you to follow the **Upgrade Storage** step. This is described in **Step 7** of the Upgrading SQream Version procedure.
  
.. toctree::
   :maxdepth: 2
   :glob:
   :hidden:

   2022.1.1