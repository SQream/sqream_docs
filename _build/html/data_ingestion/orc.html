<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ingesting Data from an ORC File &mdash; SQream DB 4.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Ingesting Data from JSON" href="json.html" />
    <link rel="prev" title="Ingesting Data from a Parquet File" href="parquet.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #133148" >
            <a href="../index.html">
            <img src="../_static/SQream_logo_without background-15.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/preparing_your_machine_to_install_sqream.html">Preparing Your Machine to Install SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/installing_sqream.html">Installing SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/executing_statements_in_sqream.html">Executing Statements in SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/performing_basic_sqream_operations.html">Performing Basic SQream Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/running_the_sqream_sql_client.html">Running the SQream SQL Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/creating_your_first_table.html">Creating Your First Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/listing_tables.html">Listing Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/inserting_rows.html">Inserting Rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/running_queries.html">Running Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/deleting_rows.html">Deleting Rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/saving_query_results_to_a_csv_or_psv_file.html">Saving Query Results to a CSV or PSV File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/hardware_guide.html">Hardware Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation_guides/index.html">Installation Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation_guides/installing_and_launching_sqream.html">Installing and Launching SQream</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/recommended_pre-installation_configurations.html">Recommended Pre-Installation Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_sqream_with_binary.html">Installing SQream Using Binary Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/running_sqream_in_a_docker_container.html">Installing and Running SQream in a Docker Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_sqream_with_kubernetes.html">Installing SQream with Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_monit.html">Installing Monit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/launching_sqream_with_monit.html">Launching SQream with Monit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation_guides/sqream_studio_installation.html">Installing SQream Studio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_prometheus_exporters.html">Installing Prometheus Exporter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_prometheus_using_binary_packages.html">Installing Prometheus Using Binary Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_dashboard_data_collector.html">Installing the Dashboard Data Collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_studio_on_stand_alone_server.html">Installing Studio on a Stand-Alone Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_nginx_proxy_over_secure_connection.html">Installing an NGINX Proxy Over a Secure Connection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Data Ingestion Sources</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ingesting_data.html">Ingesting Data Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="avro.html">Ingesting Data from Avro</a></li>
<li class="toctree-l2"><a class="reference internal" href="csv.html">Ingesting Data from a CSV File</a></li>
<li class="toctree-l2"><a class="reference internal" href="parquet.html">Ingesting Data from a Parquet File</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Ingesting Data from an ORC File</a></li>
<li class="toctree-l2"><a class="reference internal" href="json.html">Ingesting Data from JSON</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../connecting_to_sqream/index.html">Connecting to SQream</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../connecting_to_sqream/client_platforms/index.html">Client Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/informatica.html">Connect to SQream Using Informatica Cloud Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/microstrategy.html">Connect to SQream Using MicroStrategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/pentaho.html">Connecting to SQream Using Pentaho Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/php.html">Connect to SQream Using PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/power_bi.html">Connecting to SQream Using Power BI Desktop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/r.html">Connect to SQream Using R</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sap_businessobjects.html">Connecting to SQream Using SAP BusinessObjects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sas_viya.html">Connect to SQream Using SAS Viya</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sql_workbench.html">Connect to SQream Using SQL Workbench</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/tableau.html">Connecting to SQream Using Tableau</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/talend.html">Connecting to SQream Using Talend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/tibco_spotfire.html">Connecting to SQream Using TIBCO Spotfire</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../connecting_to_sqream/client_drivers/index.html">Client Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/trino/index.html">Connecting to SQream Using Trino</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/jdbc/index.html">JDBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/python/index.html">Connecting to SQream Using Python (pysqream)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/nodejs/index.html">Connecting to SQream Using Node.JS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/index.html">ODBC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/install_configure_odbc_windows.html">Install and Configure ODBC on Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/install_configure_odbc_linux.html">Install and configure ODBC on Linux</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/dotnet/index.html">Connecting to SQream Using .NET</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../external_storage_platforms/index.html">External Storage Platforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../external_storage_platforms/s3.html">Inserting Data Using Amazon S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../external_storage_platforms/hdfs.html">Using SQream in an HDFS Environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../loading_and_unloading_data/index.html">Loading and Unloading Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature_guides/index.html">Feature Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/automatic_foreign_table_ddl_resolution.html">Automatic Foreign Table DDL Resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/query_healer.html">Query Healer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/data_encryption.html">Data Encryption</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_methods.html">Encryption Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_types.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_syntax.html">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_permissions.html">Permissions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/compression.html">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/python_functions.html">Python UDF (User-Defined Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/workload_manager.html">Workload Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/concurrency_and_locks.html">Concurrency and Locks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/concurrency_and_scaling_in_sqream.html">Concurrency and Scaling in SQream DB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operational_guides/index.html">Operational Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/access_control.html">Access Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_password_policy.html">Password Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_managing_roles.html">Managing Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_permissions.html">Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_departmental_example.html">Departmental Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/creating_or_cloning_a_storage_cluster.html">Creating or Cloning Storage Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/external_data.html">Working with External Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/s3.html">Inserting Data Using Amazon S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/hdfs.html">Using SQream in an HDFS Environment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/foreign_tables.html">Foreign Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/delete_guide.html">Deleting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/exporting_data.html">Exporting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/monitoring_query_performance.html">Monitoring Query Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/saved_queries.html">Saved Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/seeing_system_objects_as_ddl.html">Seeing System Objects as DDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/optimization_best_practices.html">Optimization and Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sqream_studio_5.4.7/index.html">SQream Acceleration Studio 5.4.7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/getting_started.html">Getting Started with SQream Acceleration Studio 5.4.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/monitoring_workers_and_services_from_the_dashboard.html">Monitoring Workers and Services from the Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/executing_statements_and_running_queries_from_the_editor.html">Executing Statements and Running Queries from the Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/viewing_logs.html">Viewing Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/creating_assigning_and_managing_roles_and_permissions.html">Creating, Assigning, and Managing Roles and Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/configuring_your_instance_of_sqream.html">Configuring Your Instance of SQreams</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">System Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/internals_architecture.html">Internals and architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/filesystem_and_filesystem_usage.html">Filesystem and usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_guides/index.html">Configuration Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/spooling.html">Configuring the Spooling Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/configuring_sqream.html">Configuring SQream</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuration_levels.html">Configuration Levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_flag_types.html">Flag Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuration_roles.html">Configuration Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_modification_methods.html">Modification Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuring_your_parameter_values.html">Configuring Your Parameter Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_command_examples.html">Command Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_showing_all_flags_in_the_catalog_table.html">Showing All Flags in the Catalog Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_all_configurations.html">All Configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/ldap.html">Configuring LDAP authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/configuration_flags.html">Configuration Flags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/admin_flags.html">Administration Flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_regular_flags.html">Regular Administration Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_cluster_flags.html">Cluster Administration Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_worker_flags.html">Worker Administration Flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/generic_flags.html">Generic Flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/generic_regular_flags.html">Regular Generic Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/generic_worker_flags.html">Worker Generic Flags</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/previous_configuration_method.html">Configuring SQream Using the Previous Configuration Method</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/sql/index.html">SQL Statements and Syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_syntax/index.html">SQL Syntax Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_statements/index.html">SQL Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_functions/index.html">SQL Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/scalar_functions/index.html">Built-In Scalar Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/user_defined_functions/index.html">User-Defined Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/aggregate_functions/index.html">Aggregate Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/window_functions/index.html">Window Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/catalog_reference.html">Catalog Reference Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_schema_information.html">What Information Does the Schema Contain?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_catalog_tables.html">Catalog Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_additonal_tables.html">Additional Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/cli/index.html">Command line programs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/metadata_server.html">metadata_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqreamd.html">sqreamd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_console.html">sqream-console</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_installer.html">sqream-installer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/server_picker.html">Server Picker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_storage.html">SqreamStorage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_sql.html">sqream sql</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/upgrade_storage.html">upgrade_storage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/sql_feature_support.html">SQL Feature Checklist</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_type_guides/index.html">Data Type Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/converting_and_casting_types.html">Converting and Casting Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/supported_data_types.html">Supported Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/supported_casts.html">Supported Casts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_numeric.html">Numeric</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_boolean.html">Boolean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_integer.html">Integer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_floating_point.html">Floating Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_string.html">String</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_date.html">Date</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../releases/4.0_index.html">Release Notes 4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/4.0.html">Release Notes 4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/4.1.html">Release Notes 4.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/4.2.html">Release Notes 4.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2022.1_index.html">Release Notes 2022.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.7.html">Release Notes 2022.1.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.6.html">Release Notes 2022.1.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.5.html">Release Notes 2022.1.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.4.html">Release Notes 2022.1.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.3.html">Release Notes 2022.1.3</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.2.html">Release Notes 2022.1.2</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.1.html">Release Notes 2022.1.1</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.html">Release Notes 2022.1</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2021.2_index.html">Release Notes 2021.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.1.24.html">Release Notes 2021.2.1.24</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.1.html">Release Notes 2021.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.html">Release Notes 2021.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2021.1_index.html">Release Notes 2021.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.1.2.html">Release Notes 2021.1.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.1.html">Release Notes 2021.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.3_index.html">Release Notes 2020.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.2.1.html">Release Notes 2020.3.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.2.html">What’s new in 2020.3.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.1.html">Release Notes 2020.3.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.html">Release Notes 2020.3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.2.html">Release Notes 2020.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.1.html">Release Notes 2020.1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/index.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/remedying_slow_queries.html">Remedying Slow Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/resolving_common_issues.html">Resolving Common Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/examining_logs.html">Examining Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/identifying_configuration_issues.html">Identifying Configuration Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/lock_related_issues.html">Lock Related Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/log_related_issues.html">Log Related Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/core_dumping_related_issues.html">Core Dumping Related Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/information_for_support.html">Gathering Information for SQream Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #133148" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SQream DB</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Data Ingestion Sources</a> &raquo;</li>
      <li>Ingesting Data from an ORC File</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ingesting-data-from-an-orc-file">
<span id="orc"></span><h1>Ingesting Data from an ORC File<a class="headerlink" href="#ingesting-data-from-an-orc-file" title="Permalink to this heading"></a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#prepare-the-files" id="id17">Prepare the files</a></p></li>
<li><p><a class="reference internal" href="#place-orc-files-where-sqream-db-workers-can-access-them" id="id18">Place ORC files where SQream DB workers can access them</a></p></li>
<li><p><a class="reference internal" href="#figure-out-the-table-structure" id="id19">Figure out the table structure</a></p></li>
<li><p><a class="reference internal" href="#verify-table-contents" id="id20">Verify table contents</a></p></li>
<li><p><a class="reference internal" href="#copying-data-into-sqream-db" id="id21">Copying data into SQream DB</a></p></li>
<li><p><a class="reference internal" href="#further-orc-loading-examples" id="id22">Further ORC loading examples</a></p></li>
</ul>
</div>
<p>This guide covers ingesting data from ORC files into SQream DB using <span class="xref std std-ref">FOREIGN TABLE</span>.</p>
<section id="prepare-the-files">
<h2><a class="toc-backref" href="#id17">Prepare the files</a><a class="headerlink" href="#prepare-the-files" title="Permalink to this heading"></a></h2>
<p>Prepare the source ORC files, with the following requirements:</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 22%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
<col style="width: 2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>SQream DB type →</p>
<p>ORC source</p>
</th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">BOOL</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">TINYINT</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">INT</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">BIGINT</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">REAL</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">DOUBLE</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">TEXT</span></code> <a class="footnote-reference brackets" href="#f0" id="id1">1</a></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">DATE</span></code></p></th>
<th class="head"><p><code class="docutils literal notranslate"><span class="pre">DATETIME</span></code></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">boolean</span></code></p></td>
<td><p>Supported</p></td>
<td><p>Supported <a class="footnote-reference brackets" href="#f5" id="id2">2</a></p></td>
<td><p>Supported <a class="footnote-reference brackets" href="#f5" id="id3">2</a></p></td>
<td><p>Supported <a class="footnote-reference brackets" href="#f5" id="id4">2</a></p></td>
<td><p>Supported <a class="footnote-reference brackets" href="#f5" id="id5">2</a></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tinyint</span></code></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f6" id="id6">3</a></p></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">smallint</span></code></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f6" id="id7">3</a></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f7" id="id8">4</a></p></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">int</span></code></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f6" id="id9">3</a></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f7" id="id10">4</a></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f7" id="id11">4</a></p></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bigint</span></code></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f6" id="id12">3</a></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f7" id="id13">4</a></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f7" id="id14">4</a></p></td>
<td><p>○ <a class="footnote-reference brackets" href="#f7" id="id15">4</a></p></td>
<td><p>Supported</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">double</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">string</span></code> / <code class="docutils literal notranslate"><span class="pre">char</span></code> / <code class="docutils literal notranslate"><span class="pre">text</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Supported</p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">date</span></code></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Supported</p></td>
<td><p>Supported</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">timestamp</span></code>, <code class="docutils literal notranslate"><span class="pre">timestamp</span></code> with timezone</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td><p>Supported</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>If an ORC file has an unsupported type like <code class="docutils literal notranslate"><span class="pre">binary</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code>, <code class="docutils literal notranslate"><span class="pre">map</span></code>, and <code class="docutils literal notranslate"><span class="pre">union</span></code>, but the data is not referenced in the table (it does not appear in the <a class="reference internal" href="../reference/sql/sql_statements/dml_commands/select.html#select"><span class="std std-ref">SELECT</span></a> query), the statement will succeed. If the column is referenced, an error will be thrown to the user, explaining that the type is not supported, but the column may be ommited. This can be worked around. See more information in the examples.</p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="f0"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Text values include <code class="docutils literal notranslate"><span class="pre">TEXT</span></code></p>
</dd>
<dt class="label" id="f5"><span class="brackets">2</span><span class="fn-backref">(<a href="#id2">1</a>,<a href="#id3">2</a>,<a href="#id4">3</a>,<a href="#id5">4</a>)</span></dt>
<dd><p>Boolean values are cast to 0, 1</p>
</dd>
<dt class="label" id="f6"><span class="brackets">3</span><span class="fn-backref">(<a href="#id6">1</a>,<a href="#id7">2</a>,<a href="#id9">3</a>,<a href="#id12">4</a>)</span></dt>
<dd><p>Will succeed if all values are 0, 1</p>
</dd>
<dt class="label" id="f7"><span class="brackets">4</span><span class="fn-backref">(<a href="#id8">1</a>,<a href="#id10">2</a>,<a href="#id11">3</a>,<a href="#id13">4</a>,<a href="#id14">5</a>,<a href="#id15">6</a>)</span></dt>
<dd><p>Will succeed if all values fit the destination type</p>
</dd>
</dl>
</section>
<section id="place-orc-files-where-sqream-db-workers-can-access-them">
<h2><a class="toc-backref" href="#id18">Place ORC files where SQream DB workers can access them</a><a class="headerlink" href="#place-orc-files-where-sqream-db-workers-can-access-them" title="Permalink to this heading"></a></h2>
<p>Any worker may try to access files (unless explicitly speficied with the <a class="reference internal" href="../feature_guides/workload_manager.html#workload-manager"><span class="std std-ref">Workload Manager</span></a>).
It is important that every node has the same view of the storage being used - meaning, every SQream DB worker should have access to the files.</p>
<ul class="simple">
<li><p>For files hosted on NFS, ensure that the mount is accessible from all servers.</p></li>
<li><p>For HDFS, ensure that SQream DB servers can access the HDFS name node with the correct user-id. See our <a class="reference internal" href="../operational_guides/hdfs.html#hdfs"><span class="std std-ref">Using SQream in an HDFS Environment</span></a> guide for more information.</p></li>
<li><p>For S3, ensure network access to the S3 endpoint. See our <a class="reference internal" href="../operational_guides/s3.html#s3"><span class="std std-ref">Inserting Data Using Amazon S3</span></a> guide for more information.</p></li>
</ul>
</section>
<section id="figure-out-the-table-structure">
<h2><a class="toc-backref" href="#id19">Figure out the table structure</a><a class="headerlink" href="#figure-out-the-table-structure" title="Permalink to this heading"></a></h2>
<p>Prior to loading data, you will need to write out the table structure, so that it matches the file structure.</p>
<p>For example, to import the data from <code class="docutils literal notranslate"><span class="pre">nba.orc</span></code>, we will first look at the source table:</p>
<table class="colwidths-auto docutils align-default" id="id16">
<caption><span class="caption-text">nba.orc</span><a class="headerlink" href="#id16" title="Permalink to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Team</p></th>
<th class="head"><p>Number</p></th>
<th class="head"><p>Position</p></th>
<th class="head"><p>Age</p></th>
<th class="head"><p>Height</p></th>
<th class="head"><p>Weight</p></th>
<th class="head"><p>College</p></th>
<th class="head"><p>Salary</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Avery Bradley</p></td>
<td><p>Boston Celtics</p></td>
<td><p>0</p></td>
<td><p>PG</p></td>
<td><p>25</p></td>
<td><p>44714</p></td>
<td><p>180</p></td>
<td><p>Texas</p></td>
<td><p>7730337</p></td>
</tr>
<tr class="row-odd"><td><p>Jae Crowder</p></td>
<td><p>Boston Celtics</p></td>
<td><p>99</p></td>
<td><p>SF</p></td>
<td><p>25</p></td>
<td><p>44718</p></td>
<td><p>235</p></td>
<td><p>Marquette</p></td>
<td><p>6796117</p></td>
</tr>
<tr class="row-even"><td><p>John Holland</p></td>
<td><p>Boston Celtics</p></td>
<td><p>30</p></td>
<td><p>SG</p></td>
<td><p>27</p></td>
<td><p>44717</p></td>
<td><p>205</p></td>
<td><p>Boston University</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>R.J. Hunter</p></td>
<td><p>Boston Celtics</p></td>
<td><p>28</p></td>
<td><p>SG</p></td>
<td><p>22</p></td>
<td><p>44717</p></td>
<td><p>185</p></td>
<td><p>Georgia State</p></td>
<td><p>1148640</p></td>
</tr>
<tr class="row-even"><td><p>Jonas Jerebko</p></td>
<td><p>Boston Celtics</p></td>
<td><p>8</p></td>
<td><p>PF</p></td>
<td><p>29</p></td>
<td><p>44722</p></td>
<td><p>231</p></td>
<td></td>
<td><p>5000000</p></td>
</tr>
<tr class="row-odd"><td><p>Amir Johnson</p></td>
<td><p>Boston Celtics</p></td>
<td><p>90</p></td>
<td><p>PF</p></td>
<td><p>29</p></td>
<td><p>44721</p></td>
<td><p>240</p></td>
<td></td>
<td><p>12000000</p></td>
</tr>
<tr class="row-even"><td><p>Jordan Mickey</p></td>
<td><p>Boston Celtics</p></td>
<td><p>55</p></td>
<td><p>PF</p></td>
<td><p>21</p></td>
<td><p>44720</p></td>
<td><p>235</p></td>
<td><p>LSU</p></td>
<td><p>1170960</p></td>
</tr>
<tr class="row-odd"><td><p>Kelly Olynyk</p></td>
<td><p>Boston Celtics</p></td>
<td><p>41</p></td>
<td><p>C</p></td>
<td><p>25</p></td>
<td><p>36708</p></td>
<td><p>238</p></td>
<td><p>Gonzaga</p></td>
<td><p>2165160</p></td>
</tr>
<tr class="row-even"><td><p>Terry Rozier</p></td>
<td><p>Boston Celtics</p></td>
<td><p>12</p></td>
<td><p>PG</p></td>
<td><p>22</p></td>
<td><p>44714</p></td>
<td><p>190</p></td>
<td><p>Louisville</p></td>
<td><p>1824360</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>The file is stored on S3, at <code class="docutils literal notranslate"><span class="pre">s3://sqream-demo-data/nba.orc</span></code>.</p></li>
</ul>
<p>We will make note of the file structure to create a matching <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">FOREIGN</span> <span class="pre">TABLE</span></code> statement.</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ext_nba</span><span class="w"></span>
<span class="p">(</span><span class="w"></span>
<span class="w">     </span><span class="k">Name</span><span class="w">       </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">40</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">Team</span><span class="w">       </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">40</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">Number</span><span class="w">     </span><span class="nb">BIGINT</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="k">Position</span><span class="w">   </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">Age</span><span class="w">        </span><span class="nb">BIGINT</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">Height</span><span class="w">     </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">4</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">Weight</span><span class="w">     </span><span class="nb">BIGINT</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">College</span><span class="w">    </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">40</span><span class="p">),</span><span class="w"></span>
<span class="w">     </span><span class="n">Salary</span><span class="w">     </span><span class="k">FLOAT</span><span class="w"></span>
<span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w">   </span><span class="k">WRAPPER</span><span class="w"> </span><span class="n">orc_fdw</span><span class="w"></span>
<span class="w">   </span><span class="k">OPTIONS</span><span class="w"></span>
<span class="w">     </span><span class="p">(</span><span class="w"></span>
<span class="w">        </span><span class="k">LOCATION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;s3://sqream-demo-data/nba.orc&#39;</span><span class="w"></span>
<span class="w">     </span><span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Types in SQream DB must match ORC types according to the table above.</p>
<p>If the column type isn’t supported, a possible workaround is to set it to any arbitrary type and then exclude it from subsequent queries.</p>
</div>
</section>
<section id="verify-table-contents">
<h2><a class="toc-backref" href="#id20">Verify table contents</a><a class="headerlink" href="#verify-table-contents" title="Permalink to this heading"></a></h2>
<p>External tables do not verify file integrity or structure, so verify that the table definition matches up and contains the correct data.</p>
<div class="highlight-psql notranslate"><div class="highlight"><pre><span></span><span class="gp">t=&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ext_nba</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span><span class="w"></span>
<span class="go">Name          | Team           | Number | Position | Age | Height | Weight | College           | Salary</span>
<span class="go">--------------+----------------+--------+----------+-----+--------+--------+-------------------+---------</span>
<span class="go">Avery Bradley | Boston Celtics |      0 | PG       |  25 | 6-2    |    180 | Texas             |  7730337</span>
<span class="go">Jae Crowder   | Boston Celtics |     99 | SF       |  25 | 6-6    |    235 | Marquette         |  6796117</span>
<span class="go">John Holland  | Boston Celtics |     30 | SG       |  27 | 6-5    |    205 | Boston University |</span>
<span class="go">R.J. Hunter   | Boston Celtics |     28 | SG       |  22 | 6-5    |    185 | Georgia State     |  1148640</span>
<span class="go">Jonas Jerebko | Boston Celtics |      8 | PF       |  29 | 6-10   |    231 |                   |  5000000</span>
<span class="go">Amir Johnson  | Boston Celtics |     90 | PF       |  29 | 6-9    |    240 |                   | 12000000</span>
<span class="go">Jordan Mickey | Boston Celtics |     55 | PF       |  21 | 6-8    |    235 | LSU               |  1170960</span>
<span class="go">Kelly Olynyk  | Boston Celtics |     41 | C        |  25 | 7-0    |    238 | Gonzaga           |  2165160</span>
<span class="go">Terry Rozier  | Boston Celtics |     12 | PG       |  22 | 6-2    |    190 | Louisville        |  1824360</span>
<span class="go">Marcus Smart  | Boston Celtics |     36 | PG       |  22 | 6-4    |    220 | Oklahoma State    |  3431040</span>
</pre></div>
</div>
<p>If any errors show up at this stage, verify the structure of the ORC files and match them to the external table structure you created.</p>
</section>
<section id="copying-data-into-sqream-db">
<h2><a class="toc-backref" href="#id21">Copying data into SQream DB</a><a class="headerlink" href="#copying-data-into-sqream-db" title="Permalink to this heading"></a></h2>
<p>To load the data into SQream DB, use the <a class="reference internal" href="../reference/sql/sql_statements/ddl_commands/create_table_as.html#create-table-as"><span class="std std-ref">CREATE TABLE AS</span></a> statement:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">nba</span><span class="w"> </span><span class="k">AS</span><span class="w"></span>
<span class="w">   </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ext_nba</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<section id="working-around-unsupported-column-types">
<h3>Working around unsupported column types<a class="headerlink" href="#working-around-unsupported-column-types" title="Permalink to this heading"></a></h3>
<p>Suppose you only want to load some of the columns - for example, if one of the columns isn’t supported.</p>
<p>By ommitting unsupported columns from queries that access the <code class="docutils literal notranslate"><span class="pre">EXTERNAL</span> <span class="pre">TABLE</span></code>, they will never be called, and will not cause a “type mismatch” error.</p>
<p>For this example, assume that the <code class="docutils literal notranslate"><span class="pre">Position</span></code> column isn’t supported because of its type.</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">nba</span><span class="w"> </span><span class="k">AS</span><span class="w"></span>
<span class="w">   </span><span class="k">SELECT</span><span class="w"> </span><span class="k">Name</span><span class="p">,</span><span class="w"> </span><span class="n">Team</span><span class="p">,</span><span class="w"> </span><span class="n">Number</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">Position</span><span class="p">,</span><span class="w"> </span><span class="n">Age</span><span class="p">,</span><span class="w"> </span><span class="n">Height</span><span class="p">,</span><span class="w"> </span><span class="n">Weight</span><span class="p">,</span><span class="w"> </span><span class="n">College</span><span class="p">,</span><span class="w"> </span><span class="n">Salary</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ext_nba</span><span class="p">;</span><span class="w"></span>

<span class="c1">-- We ommitted the unsupported column `Position` from this query, and replaced it with a default ``NULL`` value, to maintain the same table structure.</span>
</pre></div>
</div>
</section>
<section id="modifying-data-during-the-copy-process">
<h3>Modifying data during the copy process<a class="headerlink" href="#modifying-data-during-the-copy-process" title="Permalink to this heading"></a></h3>
<p>One of the main reasons for staging data with <code class="docutils literal notranslate"><span class="pre">EXTERNAL</span> <span class="pre">TABLE</span></code> is to examine the contents and modify them before loading them.</p>
<p>Assume we are unhappy with weight being in pounds, because we want to use kilograms instead. We can apply the transformation as part of the <a class="reference internal" href="../reference/sql/sql_statements/ddl_commands/create_table_as.html#create-table-as"><span class="std std-ref">CREATE TABLE AS</span></a> statement.</p>
<p>Similar to the previous example, we will also set the <code class="docutils literal notranslate"><span class="pre">Position</span></code> column as a default <code class="docutils literal notranslate"><span class="pre">NULL</span></code>.</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">nba</span><span class="w"> </span><span class="k">AS</span><span class="w"></span>
<span class="w">   </span><span class="k">SELECT</span><span class="w"> </span><span class="k">name</span><span class="p">,</span><span class="w"> </span><span class="n">team</span><span class="p">,</span><span class="w"> </span><span class="n">number</span><span class="p">,</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="k">position</span><span class="p">,</span><span class="w"> </span><span class="n">age</span><span class="p">,</span><span class="w"> </span><span class="n">height</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="n">weight</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mf">2.205</span><span class="p">)</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">weight</span><span class="p">,</span><span class="w"> </span><span class="n">college</span><span class="p">,</span><span class="w"> </span><span class="n">salary</span><span class="w"></span>
<span class="w">           </span><span class="k">FROM</span><span class="w"> </span><span class="n">ext_nba</span><span class="w"></span>
<span class="w">           </span><span class="k">ORDER</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="n">weight</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="further-orc-loading-examples">
<h2><a class="toc-backref" href="#id22">Further ORC loading examples</a><a class="headerlink" href="#further-orc-loading-examples" title="Permalink to this heading"></a></h2>
<p><a class="reference internal" href="../reference/sql/sql_statements/ddl_commands/create_foreign_table.html#create-foreign-table"><span class="std std-ref">CREATE FOREIGN TABLE</span></a> contains several configuration options. See more in <a class="reference internal" href="../reference/sql/sql_statements/ddl_commands/create_foreign_table.html#cft-parameters"><span class="std std-ref">the CREATE FOREIGN TABLE parameters section</span></a>.</p>
<section id="loading-a-table-from-a-directory-of-orc-files-on-hdfs">
<h3>Loading a table from a directory of ORC files on HDFS<a class="headerlink" href="#loading-a-table-from-a-directory-of-orc-files-on-hdfs" title="Permalink to this heading"></a></h3>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ext_users</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="k">name</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">30</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span><span class="w"></span>
<span class="k">WRAPPER</span><span class="w"> </span><span class="n">orc_fdw</span><span class="w"></span>
<span class="w">  </span><span class="k">OPTIONS</span><span class="w"></span>
<span class="w">    </span><span class="p">(</span><span class="w"></span>
<span class="w">      </span><span class="k">LOCATION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;hdfs://hadoop-nn.piedpiper.com/rhendricks/users/*.ORC&#39;</span><span class="w"></span>
<span class="w">    </span><span class="p">);</span><span class="w"></span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ext_users</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="loading-a-table-from-a-bucket-of-files-on-s3">
<h3>Loading a table from a bucket of files on S3<a class="headerlink" href="#loading-a-table-from-a-bucket-of-files-on-s3" title="Permalink to this heading"></a></h3>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">ext_users</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="n">id</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="k">name</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">30</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">email</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">50</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">)</span><span class="w"></span>
<span class="k">WRAPPER</span><span class="w"> </span><span class="n">orc_fdw</span><span class="w"></span>
<span class="k">OPTIONS</span><span class="w"></span>
<span class="w">  </span><span class="p">(</span><span class="w">  </span><span class="k">LOCATION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;s3://pp-secret-bucket/users/*.ORC&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">AWS_ID</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;our_aws_id&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">     </span><span class="n">AWS_SECRET</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;our_aws_secret&#39;</span><span class="w"></span>
<span class="w">   </span><span class="p">)</span><span class="w"></span>
<span class="p">;</span><span class="w"></span>

<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">users</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">ext_users</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="parquet.html" class="btn btn-neutral float-left" title="Ingesting Data from a Parquet File" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="json.html" class="btn btn-neutral float-right" title="Ingesting Data from JSON" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 SQream.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>