<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Compression &mdash; SQream DB 4.2 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Python UDF (User-Defined Functions)" href="python_functions.html" />
    <link rel="prev" title="Permissions" href="data_encryption_permissions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #133148" >
            <a href="../index.html">
            <img src="../_static/SQream_logo_without background-15.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/preparing_your_machine_to_install_sqream.html">Preparing Your Machine to Install SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/installing_sqream.html">Installing SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/executing_statements_in_sqream.html">Executing Statements in SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/performing_basic_sqream_operations.html">Performing Basic SQream Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/running_the_sqream_sql_client.html">Running the SQream SQL Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/creating_your_first_table.html">Creating Your First Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/listing_tables.html">Listing Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/inserting_rows.html">Inserting Rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/running_queries.html">Running Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/deleting_rows.html">Deleting Rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/saving_query_results_to_a_csv_or_psv_file.html">Saving Query Results to a CSV or PSV File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/hardware_guide.html">Hardware Guide</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../installation_guides/index.html">Installation Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../installation_guides/installing_and_launching_sqream.html">Installing and Launching SQream</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/recommended_pre-installation_configurations.html">Recommended Pre-Installation Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_sqream_with_binary.html">Installing SQream Using Binary Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/running_sqream_in_a_docker_container.html">Installing and Running SQream in a Docker Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_sqream_with_kubernetes.html">Installing SQream with Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_monit.html">Installing Monit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/launching_sqream_with_monit.html">Launching SQream with Monit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../installation_guides/sqream_studio_installation.html">Installing SQream Studio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_prometheus_exporters.html">Installing Prometheus Exporter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_prometheus_using_binary_packages.html">Installing Prometheus Using Binary Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_dashboard_data_collector.html">Installing the Dashboard Data Collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_studio_on_stand_alone_server.html">Installing Studio on a Stand-Alone Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../installation_guides/installing_nginx_proxy_over_secure_connection.html">Installing an NGINX Proxy Over a Secure Connection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_ingestion/index.html">Data Ingestion Sources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/ingesting_data.html">Ingesting Data Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/avro.html">Ingesting Data from Avro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/csv.html">Ingesting Data from a CSV File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/parquet.html">Ingesting Data from a Parquet File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/orc.html">Ingesting Data from an ORC File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/json.html">Ingesting Data from JSON</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../connecting_to_sqream/index.html">Connecting to SQream</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../connecting_to_sqream/client_platforms/index.html">Client Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/informatica.html">Connect to SQream Using Informatica Cloud Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/microstrategy.html">Connect to SQream Using MicroStrategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/pentaho.html">Connecting to SQream Using Pentaho Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/php.html">Connect to SQream Using PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/power_bi.html">Connecting to SQream Using Power BI Desktop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/r.html">Connect to SQream Using R</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sap_businessobjects.html">Connecting to SQream Using SAP BusinessObjects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sas_viya.html">Connect to SQream Using SAS Viya</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sql_workbench.html">Connect to SQream Using SQL Workbench</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/tableau.html">Connecting to SQream Using Tableau</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/talend.html">Connecting to SQream Using Talend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/tibco_spotfire.html">Connecting to SQream Using TIBCO Spotfire</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../connecting_to_sqream/client_drivers/index.html">Client Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/trino/index.html">Connecting to SQream Using Trino</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/jdbc/index.html">JDBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/python/index.html">Connecting to SQream Using Python (pysqream)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/nodejs/index.html">Connecting to SQream Using Node.JS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/index.html">ODBC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/install_configure_odbc_windows.html">Install and Configure ODBC on Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/install_configure_odbc_linux.html">Install and configure ODBC on Linux</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/dotnet/index.html">Connecting to SQream Using .NET</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/Spark/index.html">Using Spark With SQream</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../external_storage_platforms/index.html">External Storage Platforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../external_storage_platforms/s3.html">Inserting Data Using Amazon S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../external_storage_platforms/hdfs.html">Using SQream in an HDFS Environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../loading_and_unloading_data/index.html">Loading and Unloading Data</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Feature Guides</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="automatic_foreign_table_ddl_resolution.html">Automatic Foreign Table DDL Resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="query_healer.html">Query Healer</a></li>
<li class="toctree-l2"><a class="reference internal" href="data_encryption.html">Data Encryption</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data_encryption_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_encryption_methods.html">Encryption Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_encryption_types.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_encryption_syntax.html">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="data_encryption_permissions.html">Permissions</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="python_functions.html">Python UDF (User-Defined Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="workload_manager.html">Workload Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="concurrency_and_locks.html">Concurrency and Locks</a></li>
<li class="toctree-l2"><a class="reference internal" href="concurrency_and_scaling_in_sqream.html">Concurrency and Scaling in SQream DB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operational_guides/index.html">Operational Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/access_control.html">Access Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_password_policy.html">Password Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_managing_roles.html">Managing Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_permissions.html">Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_departmental_example.html">Departmental Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/creating_or_cloning_a_storage_cluster.html">Creating or Cloning Storage Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/external_data.html">Working with External Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/s3.html">Inserting Data Using Amazon S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/hdfs.html">Using SQream in an HDFS Environment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/foreign_tables.html">Foreign Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/delete_guide.html">Deleting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/exporting_data.html">Exporting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/monitoring_query_performance.html">Monitoring Query Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/saved_queries.html">Saved Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/seeing_system_objects_as_ddl.html">Seeing System Objects as DDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/optimization_best_practices.html">Optimization and Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sqream_studio_5.4.7/index.html">SQream Acceleration Studio 5.4.7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/getting_started.html">Getting Started with SQream Acceleration Studio 5.4.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/monitoring_workers_and_services_from_the_dashboard.html">Monitoring Workers and Services from the Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/executing_statements_and_running_queries_from_the_editor.html">Executing Statements and Running Queries from the Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/viewing_logs.html">Viewing Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/creating_assigning_and_managing_roles_and_permissions.html">Creating, Assigning, and Managing Roles and Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/configuring_your_instance_of_sqream.html">Configuring Your Instance of SQreams</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">System Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/internals_architecture.html">Internals and architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/filesystem_and_filesystem_usage.html">Filesystem and usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_guides/index.html">Configuration Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/spooling.html">Configuring the Spooling Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/configuring_sqream.html">Configuring SQream</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuration_levels.html">Configuration Levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_flag_types.html">Flag Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuration_roles.html">Configuration Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_modification_methods.html">Modification Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuring_your_parameter_values.html">Configuring Your Parameter Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_command_examples.html">Command Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_showing_all_flags_in_the_catalog_table.html">Showing All Flags in the Catalog Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_all_configurations.html">All Configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/ldap.html">Configuring LDAP authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/configuration_flags.html">Configuration Flags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/admin_flags.html">Administration Flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_regular_flags.html">Regular Administration Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_cluster_flags.html">Cluster Administration Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_worker_flags.html">Worker Administration Flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/generic_flags.html">Generic Flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/generic_regular_flags.html">Regular Generic Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/generic_worker_flags.html">Worker Generic Flags</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/previous_configuration_method.html">Configuring SQream Using the Previous Configuration Method</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/sql/index.html">SQL Statements and Syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_syntax/index.html">SQL Syntax Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_statements/index.html">SQL Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_functions/index.html">SQL Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/scalar_functions/index.html">Built-In Scalar Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/user_defined_functions/index.html">User-Defined Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/aggregate_functions/index.html">Aggregate Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/window_functions/index.html">Window Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/catalog_reference.html">Catalog Reference Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_schema_information.html">What Information Does the Schema Contain?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_catalog_tables.html">Catalog Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_additonal_tables.html">Additional Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/cli/index.html">Command line programs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/metadata_server.html">metadata_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqreamd.html">sqreamd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_console.html">sqream-console</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_installer.html">sqream-installer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/server_picker.html">Server Picker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_storage.html">SqreamStorage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_sql.html">sqream sql</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/upgrade_storage.html">upgrade_storage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/sql_feature_support.html">SQL Feature Checklist</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_type_guides/index.html">Data Type Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/converting_and_casting_types.html">Converting and Casting Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/supported_data_types.html">Supported Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/supported_casts.html">Supported Casts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_numeric.html">Numeric</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_boolean.html">Boolean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_integer.html">Integer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_floating_point.html">Floating Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_string.html">String</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_date.html">Date</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../releases/4.0_index.html">Release Notes 4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/4.0.html">Release Notes 4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/4.1.html">Release Notes 4.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/4.2.html">Release Notes 4.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2022.1_index.html">Release Notes 2022.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.7.html">Release Notes 2022.1.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.6.html">Release Notes 2022.1.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.5.html">Release Notes 2022.1.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.4.html">Release Notes 2022.1.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.3.html">Release Notes 2022.1.3</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.2.html">Release Notes 2022.1.2</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.1.html">Release Notes 2022.1.1</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.html">Release Notes 2022.1</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2021.2_index.html">Release Notes 2021.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.1.24.html">Release Notes 2021.2.1.24</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.1.html">Release Notes 2021.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.html">Release Notes 2021.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2021.1_index.html">Release Notes 2021.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.1.2.html">Release Notes 2021.1.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.1.html">Release Notes 2021.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.3_index.html">Release Notes 2020.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.2.1.html">Release Notes 2020.3.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.2.html">What’s new in 2020.3.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.1.html">Release Notes 2020.3.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.html">Release Notes 2020.3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.2.html">Release Notes 2020.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.1.html">Release Notes 2020.1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/index.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/remedying_slow_queries.html">Remedying Slow Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/resolving_common_issues.html">Resolving Common Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/examining_logs.html">Examining Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/identifying_configuration_issues.html">Identifying Configuration Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/lock_related_issues.html">Lock Related Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/log_related_issues.html">Log Related Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/core_dumping_related_issues.html">Core Dumping Related Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/information_for_support.html">Gathering Information for SQream Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #133148" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SQream DB</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Feature Guides</a> &raquo;</li>
      <li>Compression</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="compression">
<span id="id1"></span><h1>Compression<a class="headerlink" href="#compression" title="Permalink to this heading"></a></h1>
<p>The <strong>Compression</strong> page describes the following:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#encoding" id="id5">Encoding</a></p></li>
<li><p><a class="reference internal" href="#lossless-compression" id="id6">Lossless Compression</a></p></li>
<li><p><a class="reference internal" href="#best-practices" id="id7">Best Practices</a></p></li>
</ul>
</div>
<p>SQream uses a variety of compression and encoding methods to optimize query performance and to save disk space.</p>
<section id="encoding">
<h2><a class="toc-backref" href="#id5">Encoding</a><a class="headerlink" href="#encoding" title="Permalink to this heading"></a></h2>
<p><strong>Encoding</strong> is an automatic operation used to convert data into common formats. For example, certain formats are often used for data stored in columnar format, in contrast with data stored in a CSV file, which stores all data in text format.</p>
<p>Encoding enhances performance and reduces data size by using specific data formats and encoding methods. SQream encodes data in a number of ways in accordance with the data type. For example, a <strong>date</strong> is stored as an <strong>integer</strong>, starting with <strong>March 1st 1CE</strong>, which is significantly more efficient than encoding the date as a string. In addition, it offers a wider range than storing it relative to the Unix Epoch.</p>
</section>
<section id="lossless-compression">
<h2><a class="toc-backref" href="#id6">Lossless Compression</a><a class="headerlink" href="#lossless-compression" title="Permalink to this heading"></a></h2>
<p><strong>Compression</strong> transforms data into a smaller format without sacrificing accuracy, known as <strong>lossless compression</strong>.</p>
<p>After encoding a set of column values, SQream packs the data and compresses it and decompresses it to make it accessible to users. Depending on the compression scheme used, these operations can be performed on the CPU or the GPU. Some users find that GPU compressions provide better performance.</p>
<section id="automatic-compression">
<h3>Automatic Compression<a class="headerlink" href="#automatic-compression" title="Permalink to this heading"></a></h3>
<p>By default, SQream automatically compresses every column (see <a class="reference internal" href="#specifying-compressions"><span class="std std-ref">Specifying Compression Strategies</span></a> below for overriding default compressions). This feature is called <strong>automatic adaptive compression</strong> strategy.</p>
<p>When loading data, SQream DB automatically decides on the compression schemes for specific chunks of data by trying several compression schemes and selecting the one that performs best. SQream DB tries to balance more agressive compressions with the time and CPU/GPU time required to compress and decompress the data.</p>
</section>
<section id="compression-methods">
<h3>Compression Methods<a class="headerlink" href="#compression-methods" title="Permalink to this heading"></a></h3>
<p>The following table shows the supported compression methods:</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Compression Method</p></th>
<th class="head"><p>Supported Data Types</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Location</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FLAT</span></code></p></td>
<td><p>All types</p></td>
<td><p>No compression (forced)</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">DEFAULT</span></code></p></td>
<td><p>All types</p></td>
<td><p>Automatic scheme selection</p></td>
<td><p>NA</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">DICT</span></code></p></td>
<td><p>Integer types, dates and timestamps, short texts</p></td>
<td><p>Dictionary compression with RLE. For each chunk, SQream DB creates a dictionary of distinct values and stores only their indexes.</p>
<p>Works best for integers and texts shorter than 120 characters, with &lt;10% unique values.</p>
<p>Useful for storing ENUMs or keys, stock tickers, and dimensions.</p>
<p>If the data is optionally sorted, this compression will perform even better.</p>
</td>
<td><p>GPU</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">P4D</span></code></p></td>
<td><p>Integer types, dates and timestamps</p></td>
<td><p>Patched frame-of-reference + Delta</p>
<p>Based on the delta between consecutive values.
Works best for monotonously increasing or decreasing numbers and timestamps</p>
</td>
<td><p>GPU</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">LZ4</span></code></p></td>
<td><p>Text types</p></td>
<td><p>Lempel-Ziv general purpose compression, used for texts</p></td>
<td><p>CPU</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SNAPPY</span></code></p></td>
<td><p>Text types</p></td>
<td><p>General purpose compression, used for texts</p></td>
<td><p>CPU</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">RLE</span></code></p></td>
<td><p>Integer types, dates and timestamps</p></td>
<td><p>Run-length encoding. This replaces sequences of values with a single pair. It is best for low cardinality columns that are used to sort data (<code class="docutils literal notranslate"><span class="pre">ORDER</span> <span class="pre">BY</span></code>).</p></td>
<td><p>GPU</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">SEQUENCE</span></code></p></td>
<td><p>Integer types</p></td>
<td><p>Optimized RLE + Delta type for built-in <a class="reference internal" href="../reference/sql/sql_statements/ddl_commands/create_table.html#identity"><span class="std std-ref">identity columns</span></a>.</p></td>
<td><p>GPU</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zlib</span></code></p></td>
<td><p>All types</p></td>
<td><p>The <strong>basic_zlib_compressor</strong> and <strong>basic_zlib_decompressor</strong> compress and decompress data in the <strong>ZLIB</strong> format, using <strong>DualUseFilters</strong> for input and output. In general, compression filters are for output, and decompression filters for input.</p></td>
<td><p>CPU</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Automatic compression does <strong>not</strong> select the <code class="docutils literal notranslate"><span class="pre">zlib</span></code> compression method.</p>
</div>
</section>
<section id="specifying-compression-strategies">
<span id="specifying-compressions"></span><h3>Specifying Compression Strategies<a class="headerlink" href="#specifying-compression-strategies" title="Permalink to this heading"></a></h3>
<p>When you create a table without defining any compression specifications, SQream defaults to automatic adaptive compression (<code class="docutils literal notranslate"><span class="pre">&quot;default&quot;</span></code>). However, you can prevent this by specifying a compression strategy when creating a table.</p>
<p>This section describes the following compression strategies:</p>
<div class="contents local topic" id="id2">
<ul class="simple">
<li><p><a class="reference internal" href="#explicitly-specifying-automatic-compression" id="id8">Explicitly Specifying Automatic Compression</a></p></li>
<li><p><a class="reference internal" href="#forcing-no-compression" id="id9">Forcing No Compression</a></p></li>
<li><p><a class="reference internal" href="#forcing-compression" id="id10">Forcing Compression</a></p></li>
</ul>
</div>
<section id="explicitly-specifying-automatic-compression">
<h4><a class="toc-backref" href="#id8">Explicitly Specifying Automatic Compression</a><a class="headerlink" href="#explicitly-specifying-automatic-compression" title="Permalink to this heading"></a></h4>
<p>When you explicitly specify automatic compression, the following two are equivalent:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="n">x</span><span class="w"> </span><span class="nb">INT</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="n">y</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">50</span><span class="p">)</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>In this version, the default compression is specified explicitly:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="n">x</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="s1">&#39;CS &quot;default&quot;&#39;</span><span class="p">),</span><span class="w"></span>
<span class="w">   </span><span class="n">y</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">50</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="s1">&#39;CS &quot;default&quot;&#39;</span><span class="p">)</span><span class="w"></span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="forcing-no-compression">
<h4><a class="toc-backref" href="#id9">Forcing No Compression</a><a class="headerlink" href="#forcing-no-compression" title="Permalink to this heading"></a></h4>
<p><strong>Forcing no compression</strong> is also known as “flat”, and can be used in the event that you want to remove compression entirely on some columns. This may be useful for reducing CPU or GPU resource utilization at the expense of increased I/O.</p>
<p>The following is an example of removing compression:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="n">x</span><span class="w"> </span><span class="nb">INT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="s1">&#39;CS &quot;flat&quot;&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">-- This column won&#39;t be compressed</span>
<span class="w">   </span><span class="n">y</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">50</span><span class="p">)</span><span class="w"> </span><span class="c1">-- This column will still be compressed automatically</span>
<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="forcing-compression">
<h4><a class="toc-backref" href="#id10">Forcing Compression</a><a class="headerlink" href="#forcing-compression" title="Permalink to this heading"></a></h4>
<p>In other cases, you may want to force SQream to use a specific compression scheme based on your knowledge of the data, as shown in the following example:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="n">id</span><span class="w"> </span><span class="nb">BIGINT</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="s1">&#39;CS &quot;sequence&quot;&#39;</span><span class="p">),</span><span class="w"></span>
<span class="w">   </span><span class="n">y</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">110</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="s1">&#39;CS &quot;lz4&quot;&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">-- General purpose text compression</span>
<span class="w">   </span><span class="n">z</span><span class="w"> </span><span class="nb">TEXT</span><span class="p">(</span><span class="mf">80</span><span class="p">)</span><span class="w"> </span><span class="k">CHECK</span><span class="p">(</span><span class="s1">&#39;CS &quot;dict&quot;&#39;</span><span class="p">),</span><span class="w"> </span><span class="c1">-- Low cardinality column</span>

<span class="p">);</span><span class="w"></span>
</pre></div>
</div>
<p>However, if SQream finds that the given compression method cannot effectively compress the data, it will return to the default compression type.</p>
</section>
</section>
<section id="examining-compression-effectiveness">
<h3>Examining Compression Effectiveness<a class="headerlink" href="#examining-compression-effectiveness" title="Permalink to this heading"></a></h3>
<p>Queries made on the internal metadata catalog can expose how effective the compression is, as well as what compression schemes were selected.</p>
<p>This section describes the following:</p>
<div class="contents local topic" id="id3">
<ul class="simple">
<li><p><a class="reference internal" href="#querying-the-catalog" id="id11">Querying the Catalog</a></p></li>
<li><p><a class="reference internal" href="#example-subset-from-ontime-table" id="id12">Example Subset from “Ontime” Table</a></p></li>
<li><p><a class="reference internal" href="#notes-on-reading-the-ontime-table" id="id13">Notes on Reading the “Ontime” Table</a></p></li>
</ul>
</div>
<section id="querying-the-catalog">
<h4><a class="toc-backref" href="#id11">Querying the Catalog</a><a class="headerlink" href="#querying-the-catalog" title="Permalink to this heading"></a></h4>
<p>The following is a sample query that can be used to query the catalog:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">column_name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;Column&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="n">cc</span><span class="mf">.</span><span class="n">compression_type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;Actual compression&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="n">AVG</span><span class="p">(</span><span class="n">cc</span><span class="mf">.</span><span class="n">compressed_size</span><span class="p">)</span><span class="w"> </span><span class="s s-Name">&quot;Compressed&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="n">AVG</span><span class="p">(</span><span class="n">cc</span><span class="mf">.</span><span class="n">uncompressed_size</span><span class="p">)</span><span class="w"> </span><span class="s s-Name">&quot;Uncompressed&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="n">AVG</span><span class="p">(</span><span class="n">cc</span><span class="mf">.</span><span class="n">uncompressed_size</span><span class="o">::</span><span class="k">FLOAT</span><span class="o">/</span><span class="w"> </span><span class="n">cc</span><span class="mf">.</span><span class="n">compressed_size</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;Compression effectiveness&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">       </span><span class="n">MIN</span><span class="p">(</span><span class="n">c</span><span class="mf">.</span><span class="n">compression_strategy</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;Compression strategy&quot;</span><span class="w"></span>
<span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">sqream_catalog</span><span class="mf">.</span><span class="n">chunk_columns</span><span class="w"> </span><span class="n">cc</span><span class="w"></span>
<span class="w">   </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">sqream_catalog</span><span class="mf">.</span><span class="k">columns</span><span class="w"> </span><span class="n">c</span><span class="w"></span>
<span class="w">           </span><span class="k">ON</span><span class="w"> </span><span class="n">cc</span><span class="mf">.</span><span class="n">table_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">table_id</span><span class="w"></span>
<span class="w">          </span><span class="k">AND</span><span class="w"> </span><span class="n">cc</span><span class="mf">.</span><span class="n">database_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">database_name</span><span class="w"></span>
<span class="w">          </span><span class="k">AND</span><span class="w"> </span><span class="n">cc</span><span class="mf">.</span><span class="n">column_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">column_id</span><span class="w"></span>

<span class="w">   </span><span class="k">WHERE</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">table_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;some_table&#39;</span><span class="w">  </span><span class="c1">-- This is the table name which we want to inspect</span>

<span class="w">   </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="mf">2</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="example-subset-from-ontime-table">
<h4><a class="toc-backref" href="#id12">Example Subset from “Ontime” Table</a><a class="headerlink" href="#example-subset-from-ontime-table" title="Permalink to this heading"></a></h4>
<p>The following is an example (subset) from the <code class="docutils literal notranslate"><span class="pre">ontime</span></code> table:</p>
<div class="highlight-psql notranslate"><div class="highlight"><pre><span></span><span class="gp">stats=&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">column_name</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;Column&quot;</span><span class="p">,</span><span class="w"></span>
<span class="mf">.</span><span class="w">          </span><span class="n">cc</span><span class="mf">.</span><span class="n">compression_type</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;Actual compression&quot;</span><span class="p">,</span><span class="w"></span>
<span class="mf">.</span><span class="w">          </span><span class="n">AVG</span><span class="p">(</span><span class="n">cc</span><span class="mf">.</span><span class="n">compressed_size</span><span class="p">)</span><span class="w"> </span><span class="s s-Name">&quot;Compressed&quot;</span><span class="p">,</span><span class="w"></span>
<span class="mf">.</span><span class="w">          </span><span class="n">AVG</span><span class="p">(</span><span class="n">cc</span><span class="mf">.</span><span class="n">uncompressed_size</span><span class="p">)</span><span class="w"> </span><span class="s s-Name">&quot;Uncompressed&quot;</span><span class="p">,</span><span class="w"></span>
<span class="mf">.</span><span class="w">          </span><span class="n">AVG</span><span class="p">(</span><span class="n">cc</span><span class="mf">.</span><span class="n">uncompressed_size</span><span class="o">::</span><span class="k">FLOAT</span><span class="o">/</span><span class="w"> </span><span class="n">cc</span><span class="mf">.</span><span class="n">compressed_size</span><span class="p">)</span><span class="w"> </span><span class="o">-</span><span class="mf">1</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;Compression effectiveness&quot;</span><span class="p">,</span><span class="w"></span>
<span class="mf">.</span><span class="w">          </span><span class="n">MIN</span><span class="p">(</span><span class="n">c</span><span class="mf">.</span><span class="n">compression_strategy</span><span class="p">)</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s s-Name">&quot;Compression strategy&quot;</span><span class="w"></span>
<span class="mf">.</span><span class="w">   </span><span class="k">FROM</span><span class="w"> </span><span class="n">sqream_catalog</span><span class="mf">.</span><span class="n">chunk_columns</span><span class="w"> </span><span class="n">cc</span><span class="w"></span>
<span class="mf">.</span><span class="w">     </span><span class="k">INNER</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">sqream_catalog</span><span class="mf">.</span><span class="k">columns</span><span class="w"> </span><span class="n">c</span><span class="w"></span>
<span class="mf">.</span><span class="w">             </span><span class="k">ON</span><span class="w"> </span><span class="n">cc</span><span class="mf">.</span><span class="n">table_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">table_id</span><span class="w"></span>
<span class="mf">.</span><span class="w">            </span><span class="k">AND</span><span class="w"> </span><span class="n">cc</span><span class="mf">.</span><span class="n">database_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">database_name</span><span class="w"></span>
<span class="mf">.</span><span class="w">            </span><span class="k">AND</span><span class="w"> </span><span class="n">cc</span><span class="mf">.</span><span class="n">column_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">column_id</span><span class="w"></span>
<span class="mf">.</span><span class="w"></span>
<span class="mf">.</span><span class="w">   </span><span class="k">WHERE</span><span class="w"> </span><span class="n">c</span><span class="mf">.</span><span class="n">table_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;ontime&#39;</span><span class="w"></span>
<span class="mf">.</span><span class="w"></span>
<span class="mf">.</span><span class="w">   </span><span class="k">GROUP</span><span class="w"> </span><span class="k">BY</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"></span>
<span class="mf">.</span><span class="w">            </span><span class="mf">2</span><span class="p">;</span><span class="w"></span>

<span class="go">Column                    | Actual compression | Compressed | Uncompressed | Compression effectiveness | Compression strategy</span>
<span class="go">--------------------------+--------------------+------------+--------------+---------------------------+---------------------</span>
<span class="go">actualelapsedtime@null    | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">actualelapsedtime@val     | dict               |    1379797 |      4131831 |                         2 | default</span>
<span class="go">airlineid                 | dict               |     578150 |      2065915 |                       2.7 | default</span>
<span class="go">airtime@null              | dict               |     130011 |      1039625 |                         7 | default</span>
<span class="go">airtime@null              | rle                |      93404 |      1019833 |                 116575.61 | default</span>
<span class="go">airtime@val               | dict               |    1142045 |      4131831 |                      7.57 | default</span>
<span class="go">arrdel15@null             | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">arrdel15@val              | dict               |     129183 |      4131831 |                     30.98 | default</span>
<span class="go">arrdelay@null             | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">arrdelay@val              | dict               |    1389660 |      4131831 |                         2 | default</span>
<span class="go">arrdelayminutes@null      | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">arrdelayminutes@val       | dict               |    1356034 |      4131831 |                      2.08 | default</span>
<span class="go">arrivaldelaygroups@null   | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">arrivaldelaygroups@val    | p4d                |     516539 |      2065915 |                         3 | default</span>
<span class="go">arrtime@null              | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">arrtime@val               | p4d                |    1652799 |      2065915 |                      0.25 | default</span>
<span class="go">arrtimeblk                | dict               |     688870 |      9296621 |                     12.49 | default</span>
<span class="go">cancellationcode@null     | dict               |     129516 |      1035666 |                         7 | default</span>
<span class="go">cancellationcode@null     | rle                |      54392 |      1031646 |                 131944.62 | default</span>
<span class="go">cancellationcode@val      | dict               |     263149 |      1032957 |                      4.12 | default</span>
<span class="go">cancelled                 | dict               |     129183 |      4131831 |                     30.98 | default</span>
<span class="go">carrier                   | dict               |     578150 |      2065915 |                       2.7 | default</span>
<span class="go">carrierdelay@null         | dict               |     129516 |      1035666 |                         7 | default</span>
<span class="go">carrierdelay@null         | flat               |    1041250 |      1041250 |                         0 | default</span>
<span class="go">carrierdelay@null         | rle                |       4869 |      1026493 |                  202740.2 | default</span>
<span class="go">carrierdelay@val          | dict               |     834559 |      4131831 |                     14.57 | default</span>
<span class="go">crsarrtime                | p4d                |    1652799 |      2065915 |                      0.25 | default</span>
<span class="go">crsdeptime                | p4d                |    1652799 |      2065915 |                      0.25 | default</span>
<span class="go">crselapsedtime@null       | dict               |     130449 |      1043140 |                         7 | default</span>
<span class="go">crselapsedtime@null       | rle                |       3200 |      1013388 |                 118975.75 | default</span>
<span class="go">crselapsedtime@val        | dict               |    1182286 |      4131831 |                       2.5 | default</span>
<span class="go">dayofmonth                | dict               |     688730 |      1032957 |                       0.5 | default</span>
<span class="go">dayofweek                 | dict               |     393577 |      1032957 |                      1.62 | default</span>
<span class="go">departuredelaygroups@null | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">departuredelaygroups@val  | p4d                |     516539 |      2065915 |                         3 | default</span>
<span class="go">depdel15@null             | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">depdel15@val              | dict               |     129183 |      4131831 |                     30.98 | default</span>
<span class="go">depdelay@null             | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">depdelay@val              | dict               |    1384453 |      4131831 |                      2.01 | default</span>
<span class="go">depdelayminutes@null      | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">depdelayminutes@val       | dict               |    1362893 |      4131831 |                      2.06 | default</span>
<span class="go">deptime@null              | dict               |     129177 |      1032957 |                         7 | default</span>
<span class="go">deptime@val               | p4d                |    1652799 |      2065915 |                      0.25 | default</span>
<span class="go">deptimeblk                | dict               |     688870 |      9296621 |                     12.49 | default</span>
<span class="go">month                     | dict               |     247852 |      1035246 |                      3.38 | default</span>
<span class="go">month                     | rle                |          5 |       607346 |                  121468.2 | default</span>
<span class="go">origin                    | dict               |    1119457 |      3098873 |                      1.78 | default</span>
<span class="go">quarter                   | rle                |          8 |      1032957 |                 136498.61 | default</span>
<span class="go">securitydelay@null        | dict               |     129516 |      1035666 |                         7 | default</span>
<span class="go">securitydelay@null        | flat               |    1041250 |      1041250 |                         0 | default</span>
<span class="go">securitydelay@null        | rle                |       4869 |      1026493 |                  202740.2 | default</span>
<span class="go">securitydelay@val         | dict               |     581893 |      4131831 |                     15.39 | default</span>
<span class="go">tailnum@null              | dict               |     129516 |      1035666 |                         7 | default</span>
<span class="go">tailnum@null              | rle                |      38643 |      1031646 |                 121128.68 | default</span>
<span class="go">tailnum@val               | dict               |    1659918 |     12395495 |                     22.46 | default</span>
<span class="go">taxiin@null               | dict               |     130011 |      1039625 |                         7 | default</span>
<span class="go">taxiin@null               | rle                |      93404 |      1019833 |                 116575.61 | default</span>
<span class="go">taxiin@val                | dict               |     839917 |      4131831 |                      8.49 | default</span>
<span class="go">taxiout@null              | dict               |     130011 |      1039625 |                         7 | default</span>
<span class="go">taxiout@null              | rle                |      84327 |      1019833 |                 116575.86 | default</span>
<span class="go">taxiout@val               | dict               |     891539 |      4131831 |                      8.28 | default</span>
<span class="go">totaladdgtime@null        | dict               |     129516 |      1035666 |                         7 | default</span>
<span class="go">totaladdgtime@null        | rle                |       3308 |      1031646 |                 191894.18 | default</span>
<span class="go">totaladdgtime@val         | dict               |     465839 |      4131831 |                     20.51 | default</span>
<span class="go">uniquecarrier             | dict               |     578221 |      7230705 |                     11.96 | default</span>
<span class="go">year                      | rle                |          6 |      2065915 |                 317216.08 | default</span>
</pre></div>
</div>
</section>
<section id="notes-on-reading-the-ontime-table">
<h4><a class="toc-backref" href="#id13">Notes on Reading the “Ontime” Table</a><a class="headerlink" href="#notes-on-reading-the-ontime-table" title="Permalink to this heading"></a></h4>
<p>The following are some useful notes on reading the “Ontime” table shown above:</p>
<ol class="arabic">
<li><p>Higher numbers in the <strong>Compression effectiveness</strong> column represent better compressions. <strong>0</strong> represents a column that has <strong>not been compressed</strong>.</p>
<blockquote>
<div></div></blockquote>
</li>
<li><p>Column names are an internal representation. Names with <code class="docutils literal notranslate"><span class="pre">&#64;null</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;val</span></code> suffixes represent a nullable column’s null (boolean) and values respectively, but are treated as one logical column.</p>
<blockquote>
<div></div></blockquote>
</li>
<li><p>The query lists all actual compressions for a column, so it may appear several times if the compression has changed mid-way through the loading (as with the <code class="docutils literal notranslate"><span class="pre">carrierdelay</span></code> column).</p>
<blockquote>
<div></div></blockquote>
</li>
<li><p>When your compression strategy is <code class="docutils literal notranslate"><span class="pre">default</span></code>, the system automatically selects the best compression, including no compression at all (<code class="docutils literal notranslate"><span class="pre">flat</span></code>).</p></li>
</ol>
</section>
</section>
</section>
<section id="best-practices">
<h2><a class="toc-backref" href="#id7">Best Practices</a><a class="headerlink" href="#best-practices" title="Permalink to this heading"></a></h2>
<p>This section describes the best compression practices:</p>
<div class="contents local topic" id="id4">
<ul class="simple">
<li><p><a class="reference internal" href="#letting-sqream-determine-the-best-compression-strategy" id="id14">Letting SQream Determine the Best Compression Strategy</a></p></li>
<li><p><a class="reference internal" href="#maximizing-the-advantage-of-each-compression-scheme" id="id15">Maximizing the Advantage of Each Compression Scheme</a></p></li>
<li><p><a class="reference internal" href="#choosing-data-types-that-fit-your-data" id="id16">Choosing Data Types that Fit Your Data</a></p></li>
</ul>
</div>
<section id="letting-sqream-determine-the-best-compression-strategy">
<h3><a class="toc-backref" href="#id14">Letting SQream Determine the Best Compression Strategy</a><a class="headerlink" href="#letting-sqream-determine-the-best-compression-strategy" title="Permalink to this heading"></a></h3>
<p>In general, SQream determines the best compression strategy for most cases. If you decide to override SQream’s selected compression strategies, we recommend benchmarking your query and load performance <strong>in addition to</strong> your storage size.</p>
</section>
<section id="maximizing-the-advantage-of-each-compression-scheme">
<h3><a class="toc-backref" href="#id15">Maximizing the Advantage of Each Compression Scheme</a><a class="headerlink" href="#maximizing-the-advantage-of-each-compression-scheme" title="Permalink to this heading"></a></h3>
<p>Some compression schemes perform better when data is organized in a specific way. For example, to take advantage of RLE, sorting a column may result in better performance and reduced disk-space and I/O usage.
Sorting a column partially may also be beneficial. As a rule of thumb, aim for run-lengths of more than 10 consecutive values.</p>
</section>
<section id="choosing-data-types-that-fit-your-data">
<h3><a class="toc-backref" href="#id16">Choosing Data Types that Fit Your Data</a><a class="headerlink" href="#choosing-data-types-that-fit-your-data" title="Permalink to this heading"></a></h3>
<p>Adapting to the narrowest data type improves query performance while reducing disk space usage. However, smaller data types may compress better than larger types.</p>
<p>For example, SQream recommends using the smallest numeric data type that will accommodate your data. Using <code class="docutils literal notranslate"><span class="pre">BIGINT</span></code> for data that fits in <code class="docutils literal notranslate"><span class="pre">INT</span></code> or <code class="docutils literal notranslate"><span class="pre">SMALLINT</span></code> can use more disk space and memory for query execution. Using <code class="docutils literal notranslate"><span class="pre">FLOAT</span></code> to store integers will reduce compression’s effectiveness significantly.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="data_encryption_permissions.html" class="btn btn-neutral float-left" title="Permissions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="python_functions.html" class="btn btn-neutral float-right" title="Python UDF (User-Defined Functions)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 SQream.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>