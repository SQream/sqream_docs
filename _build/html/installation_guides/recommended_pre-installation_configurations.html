<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Recommended Pre-Installation Configuration &mdash; SQream DB 4.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Installing SQream Using Binary Packages" href="installing_sqream_with_binary.html" />
    <link rel="prev" title="Installing and Launching SQream" href="installing_and_launching_sqream.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #133148" >
            <a href="../index.html">
            <img src="../_static/SQream_logo_without background-15.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/preparing_your_machine_to_install_sqream.html">Preparing Your Machine to Install SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/installing_sqream.html">Installing SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/executing_statements_in_sqream.html">Executing Statements in SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/performing_basic_sqream_operations.html">Performing Basic SQream Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/running_the_sqream_sql_client.html">Running the SQream SQL Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/creating_your_first_table.html">Creating Your First Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/listing_tables.html">Listing Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/inserting_rows.html">Inserting Rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/running_queries.html">Running Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/deleting_rows.html">Deleting Rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/saving_query_results_to_a_csv_or_psv_file.html">Saving Query Results to a CSV or PSV File</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/hardware_guide.html">Hardware Guide</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation Guides</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="installing_and_launching_sqream.html">Installing and Launching SQream</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Recommended Pre-Installation Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_sqream_with_binary.html">Installing SQream Using Binary Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="running_sqream_in_a_docker_container.html">Installing and Running SQream in a Docker Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_sqream_with_kubernetes.html">Installing SQream with Kubernetes</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_monit.html">Installing Monit</a></li>
<li class="toctree-l3"><a class="reference internal" href="launching_sqream_with_monit.html">Launching SQream with Monit</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="sqream_studio_installation.html">Installing SQream Studio</a><ul>
<li class="toctree-l3"><a class="reference internal" href="installing_prometheus_exporters.html">Installing Prometheus Exporter</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_prometheus_using_binary_packages.html">Installing Prometheus Using Binary Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_dashboard_data_collector.html">Installing the Dashboard Data Collector</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_studio_on_stand_alone_server.html">Installing Studio on a Stand-Alone Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="installing_nginx_proxy_over_secure_connection.html">Installing an NGINX Proxy Over a Secure Connection</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_ingestion/index.html">Data Ingestion Sources</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/ingesting_data.html">Ingesting Data Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/avro.html">Ingesting Data from Avro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/csv.html">Ingesting Data from a CSV File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/parquet.html">Ingesting Data from a Parquet File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/orc.html">Ingesting Data from an ORC File</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_ingestion/json.html">Ingesting Data from JSON</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../connecting_to_sqream/index.html">Connecting to SQream</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../connecting_to_sqream/client_platforms/index.html">Client Platforms</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/informatica.html">Connect to SQream Using Informatica Cloud Services</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/microstrategy.html">Connect to SQream Using MicroStrategy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/pentaho.html">Connecting to SQream Using Pentaho Data Integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/php.html">Connect to SQream Using PHP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/power_bi.html">Connecting to SQream Using Power BI Desktop</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/r.html">Connect to SQream Using R</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sap_businessobjects.html">Connecting to SQream Using SAP BusinessObjects</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sas_viya.html">Connect to SQream Using SAS Viya</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/sql_workbench.html">Connect to SQream Using SQL Workbench</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/tableau.html">Connecting to SQream Using Tableau</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/talend.html">Connecting to SQream Using Talend</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_platforms/tibco_spotfire.html">Connecting to SQream Using TIBCO Spotfire</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../connecting_to_sqream/client_drivers/index.html">Client Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/trino/index.html">Connecting to SQream Using Trino</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/jdbc/index.html">Connecting to SQream Using JDBC</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/python/index.html">Connecting to SQream Using Python (pysqream)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/nodejs/index.html">Connecting to SQream Using Node.JS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/index.html">ODBC</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/install_configure_odbc_windows.html">Install and Configure ODBC on Windows</a></li>
<li class="toctree-l4"><a class="reference internal" href="../connecting_to_sqream/client_drivers/odbc/install_configure_odbc_linux.html">Install and configure ODBC on Linux</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../connecting_to_sqream/client_drivers/dotnet/index.html">Connecting to SQream Using .NET</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../external_storage_platforms/index.html">External Storage Platforms</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../external_storage_platforms/s3.html">Inserting Data Using Amazon S3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../external_storage_platforms/hdfs.html">Using SQream in an HDFS Environment</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../loading_and_unloading_data/index.html">Loading and Unloading Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../feature_guides/index.html">Feature Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/automatic_foreign_table_ddl_resolution.html">Automatic Foreign Table DDL Resolution</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/query_healer.html">Query Healer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/data_encryption.html">Data Encryption</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_methods.html">Encryption Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_types.html">Data Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_syntax.html">Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="../feature_guides/data_encryption_permissions.html">Permissions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/compression.html">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/python_functions.html">Python UDF (User-Defined Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/workload_manager.html">Workload Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/concurrency_and_locks.html">Concurrency and Locks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/concurrency_and_scaling_in_sqream.html">Concurrency and Scaling in SQream DB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operational_guides/index.html">Operational Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/access_control.html">Access Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_password_policy.html">Password Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_managing_roles.html">Managing Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_permissions.html">Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_departmental_example.html">Departmental Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/creating_or_cloning_a_storage_cluster.html">Creating or Cloning Storage Clusters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/external_data.html">Working with External Data</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/s3.html">Inserting Data Using Amazon S3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/hdfs.html">Using SQream in an HDFS Environment</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/foreign_tables.html">Foreign Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/delete_guide.html">Deleting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/exporting_data.html">Exporting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/monitoring_query_performance.html">Monitoring Query Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/saved_queries.html">Saved Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/seeing_system_objects_as_ddl.html">Seeing System Objects as DDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/optimization_best_practices.html">Optimization and Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../sqream_studio_5.4.7/index.html">SQream Acceleration Studio 5.4.7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/getting_started.html">Getting Started with SQream Acceleration Studio 5.4.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/monitoring_workers_and_services_from_the_dashboard.html">Monitoring Workers and Services from the Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/executing_statements_and_running_queries_from_the_editor.html">Executing Statements and Running Queries from the Editor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/viewing_logs.html">Viewing Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/creating_assigning_and_managing_roles_and_permissions.html">Creating, Assigning, and Managing Roles and Permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sqream_studio_5.4.7/configuring_your_instance_of_sqream.html">Configuring Your Instance of SQreams</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">System Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/internals_architecture.html">Internals and architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../architecture/filesystem_and_filesystem_usage.html">Filesystem and usage</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_guides/index.html">Configuration Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/spooling.html">Configuring the Spooling Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/configuring_sqream.html">Configuring SQream</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuration_levels.html">Configuration Levels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_flag_types.html">Flag Types</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuration_roles.html">Configuration Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_modification_methods.html">Modification Methods</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_configuring_your_parameter_values.html">Configuring Your Parameter Values</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_command_examples.html">Command Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_showing_all_flags_in_the_catalog_table.html">Showing All Flags in the Catalog Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/current_method_all_configurations.html">All Configurations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/ldap.html">Configuring LDAP authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/configuration_flags.html">Configuration Flags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/admin_flags.html">Administration Flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_regular_flags.html">Regular Administration Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_cluster_flags.html">Cluster Administration Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_worker_flags.html">Worker Administration Flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/generic_flags.html">Generic Flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/generic_regular_flags.html">Regular Generic Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/generic_worker_flags.html">Worker Generic Flags</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/previous_configuration_method.html">Configuring SQream Using the Previous Configuration Method</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/sql/index.html">SQL Statements and Syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_syntax/index.html">SQL Syntax Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_statements/index.html">SQL Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_functions/index.html">SQL Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/scalar_functions/index.html">Built-In Scalar Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/user_defined_functions/index.html">User-Defined Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/aggregate_functions/index.html">Aggregate Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/window_functions/index.html">Window Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/catalog_reference.html">Catalog Reference Guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_schema_information.html">What Information Does the Schema Contain?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_catalog_tables.html">Catalog Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_additonal_tables.html">Additional Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/catalog_reference_examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/cli/index.html">Command line programs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/metadata_server.html">metadata_server</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqreamd.html">sqreamd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_console.html">sqream-console</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_installer.html">sqream-installer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/server_picker.html">Server Picker</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_storage.html">SqreamStorage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/sqream_sql.html">sqream sql</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/cli/upgrade_storage.html">upgrade_storage</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/sql_feature_support.html">SQL Feature Checklist</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_type_guides/index.html">Data Type Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/converting_and_casting_types.html">Converting and Casting Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/supported_data_types.html">Supported Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/supported_casts.html">Supported Casts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_numeric.html">Numeric</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_boolean.html">Boolean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_integer.html">Integer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_floating_point.html">Floating Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_string.html">String</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_date.html">Date</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../releases/4.0_index.html">Release Notes 4.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/4.0.html">Release Notes 4.0</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/4.1.html">Release Notes 4.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2022.1_index.html">Release Notes 2022.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.7.html">Release Notes 2022.1.7</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.6.html">Release Notes 2022.1.6</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.5.html">Release Notes 2022.1.5</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.4.html">Release Notes 2022.1.4</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.3.html">Release Notes 2022.1.3</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.2.html">Release Notes 2022.1.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.1.html">Release Notes 2022.1.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2022.1.html">Release Notes 2022.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2021.2_index.html">Release Notes 2021.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.1.24.html">Release Notes 2021.2.1.24</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.1.html">Release Notes 2021.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.2.html">Release Notes 2021.2</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2021.1_index.html">Release Notes 2021.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.1.2.html">Release Notes 2021.1.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2021.1.html">Release Notes 2021.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.3_index.html">Release Notes 2020.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.2.1.html">Release Notes 2020.3.2.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.2.html">What’s new in 2020.3.2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.1.html">Release Notes 2020.3.1</a></li>
<li class="toctree-l3"><a class="reference internal" href="../releases/2020.3.html">Release Notes 2020.3</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.2.html">Release Notes 2020.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../releases/2020.1.html">Release Notes 2020.1</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/index.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/remedying_slow_queries.html">Remedying Slow Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/resolving_common_issues.html">Resolving Common Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/examining_logs.html">Examining Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/identifying_configuration_issues.html">Identifying Configuration Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/lock_related_issues.html">Lock Related Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/log_related_issues.html">Log Related Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/core_dumping_related_issues.html">Core Dumping Related Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/information_for_support.html">Gathering Information for SQream Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #133148" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SQream DB</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Installation Guides</a> &raquo;</li>
          <li><a href="installing_and_launching_sqream.html">Installing and Launching SQream</a> &raquo;</li>
      <li>Recommended Pre-Installation Configuration</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="recommended-pre-installation-configuration">
<span id="recommended-pre-installation-configurations"></span><h1>Recommended Pre-Installation Configuration<a class="headerlink" href="#recommended-pre-installation-configuration" title="Permalink to this heading"></a></h1>
<p>Before <span class="xref std std-ref">installing SQream DB</span>, SQream recommends you to tune your system for better performance and stability.</p>
<p>This page provides recommendations for production deployments of SQream and describes the following:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#recommended-bios-settings" id="id4">Recommended BIOS Settings</a></p></li>
<li><p><a class="reference internal" href="#installing-the-operating-system" id="id5">Installing the Operating System</a></p></li>
<li><p><a class="reference internal" href="#configuring-the-operating-system" id="id6">Configuring the Operating System</a></p></li>
<li><p><a class="reference internal" href="#installing-the-nvidia-cuda-driver" id="id7">Installing the Nvidia CUDA Driver</a></p></li>
<li><p><a class="reference internal" href="#enabling-core-dumps" id="id8">Enabling Core Dumps</a></p></li>
</ul>
</div>
<section id="recommended-bios-settings">
<h2><a class="toc-backref" href="#id4">Recommended BIOS Settings</a><a class="headerlink" href="#recommended-bios-settings" title="Permalink to this heading"></a></h2>
<p>The first step when setting your pre-installation configurations is to use the recommended BIOS settings.</p>
<p>The BIOS settings may have a variety of names, or may not exist on your system. Each system vendor has a different set of settings and variables. It is safe to skip any and all of the configuration steps, but this may impact performance.</p>
<p>If any doubt arises, consult the documentation for your server or your hardware vendor for the correct way to apply the settings.</p>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Item</p></th>
<th class="head"><p>Setting</p></th>
<th class="head"><p>Rationale</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Management console access</strong></p></td>
<td><p><strong>Connected</strong></p></td>
<td><p>Connection to OOB required to preserve continuous network uptime.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>All drives</strong></p></td>
<td><p><strong>Connected and displayed on RAID interface</strong></p></td>
<td><p>Prerequisite for cluster or OS installation.</p></td>
</tr>
<tr class="row-even"><td><p><strong>RAID volumes.</strong></p></td>
<td><p><strong>Configured according to project guidelines. Must be rebooted to take effect.</strong></p></td>
<td><p>Clustered to increase logical volume and provide redundancy.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Fan speed Thermal Configuration.</strong></p></td>
<td><p>Dell fan speed: <strong>High Maximum</strong>. Specified minimum setting: <strong>60</strong>. HPe thermal configuration: <strong>Increased cooling</strong>.</p></td>
<td><p>NVIDIA Tesla GPUs are passively cooled and require high airflow to operate at full performance.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Power regulator or iDRAC power unit policy</strong></p></td>
<td><p>HPe: <strong>HP static high performance</strong> mode enabled. Dell: <strong>iDRAC power unit policy</strong> (power cap policy) disabled.</p></td>
<td><p>Other power profiles (such as “balanced”) throttle the CPU and diminishes performance. Throttling may also cause GPU failure.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>System Profile</strong>, <strong>Power Profile</strong>, or <strong>Performance Profile</strong></p></td>
<td><p><strong>High Performance</strong></p></td>
<td><p>The Performance profile provides potentially increased performance by maximizing processor frequency, and the disabling certain power saving features such as C-states. Use this setting for environments that are not sensitive to power consumption.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Power Cap Policy</strong> or <strong>Dynamic power capping</strong></p></td>
<td><p><strong>Disabled</strong></p></td>
<td><p>Other power profiles (like “balanced”) throttle the CPU and may diminish performance or cause GPU failure. This setting may appear together with the above (Power profile or Power regulator). This setting allows disabling system ROM power calibration during the boot process. Power regulator settings are named differently in BIOS and iLO/iDRAC.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Intel Turbo Boost</strong></p></td>
<td><p><strong>Enabled</strong></p></td>
<td><p>Intel Turbo Boost enables overclocking the processor to boost CPU-bound operation performance. Overclocking may risk computational jitter due to changes in the processor’s turbo frequency. This causes brief pauses in processor operation, introducing uncertainty into application processing time. Turbo operation is a function of power consumption, processor temperature, and the number of active cores.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Logical Processor</strong></p></td>
<td><p><strong>HPe</strong>: Enable <strong>Hyperthreading</strong> <strong>Dell</strong>: Enable <strong>Logical Processor</strong></p></td>
<td><p>Hyperthreading doubles the amount of logical processors, which may improve performance by ~5-10% for CPU-bound operations.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Intel Virtualization Technology</strong> (VT-d)</p></td>
<td><p><strong>Disable</strong></p></td>
<td><p>VT-d is optimal for running VMs. However, when running Linux natively, disabling VT-d boosts performance by up to 10%.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Logical Processor</strong></p></td>
<td><p><strong>HPe</strong>: Enable <strong>Hyperthreading</strong> <strong>Dell</strong>: Enable <strong>Logical Processor</strong></p></td>
<td><p>Hyperthreading doubles the amount of logical processors, which may improve performance by ~5-10% for CPU-bound operations.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Intel Virtualization Technology</strong> (VT-d)</p></td>
<td><p><strong>Disable</strong></p></td>
<td><p>VT-d is optimal for running VMs. However, when running Linux natively, disabling VT-d boosts performance by up to 10%.</p></td>
</tr>
<tr class="row-even"><td><p><strong>Processor C-States</strong> (Minimum processor idle power core state)</p></td>
<td><p><strong>Disable</strong></p></td>
<td><p>Processor C-States reduce server power when the system is in an idle state. This causes slower cold-starts when the system transitions from an idle to a load state, and may reduce query performance by up to 15%.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>HPe</strong>: <strong>Energy/Performance bias</strong></p></td>
<td><p><strong>Maximum performance</strong></p></td>
<td><p>Configures processor sub-systems for high-performance and low-latency. Other power profiles (like “balanced”) throttle the CPU and may diminish performance. Use this setting for environments that are not sensitive to power consumption.</p></td>
</tr>
<tr class="row-even"><td><p><strong>HPe</strong>: <strong>DIMM voltage</strong></p></td>
<td><p><strong>Optimized for Performance</strong></p></td>
<td><p>Setting a higher voltage for DIMMs may increase performance.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Memory Operating Mode</strong></p></td>
<td><p><strong>Optimizer Mode</strong>, <strong>Disable Node Interleaving</strong>, <strong>Auto Memory Operating Voltage</strong></p></td>
<td><p>Memory Operating Mode is tuned for performance in <strong>Optimizer</strong> mode. Other modes may improve reliability, but reduce performance. <strong>Node Interleaving</strong> should be disabled because enabling it interleaves the memory between memory nodes, which harms NUMA-aware applications such as SQream DB.</p></td>
</tr>
<tr class="row-even"><td><p><strong>HPe</strong>: <strong>Memory power savings mode</strong></p></td>
<td><p><strong>Maximum performance</strong></p></td>
<td><p>This setting configures several memory parameters to optimize the performance of memory sub-systems. The default setting is <strong>Balanced</strong>.</p></td>
</tr>
<tr class="row-odd"><td><p><strong>HPe ACPI SLIT</strong></p></td>
<td><p><strong>Enabled</strong></p></td>
<td><p>ACPI SLIT sets the relative access times between processors and memory and I/O sub-systems. ACPI SLIT enables operating systems to use this data to improve performance by more efficiently allocating resources and workloads.</p></td>
</tr>
<tr class="row-even"><td><p><strong>QPI Snoop</strong></p></td>
<td><p><strong>Cluster on Die</strong> or <strong>Home Snoop</strong></p></td>
<td><p>QPI (QuickPath Interconnect) Snoop lets you configure different Snoop modes that impact the QPI interconnect. Changing this setting may improve the performance of certain workloads. The default setting of <strong>Home Snoop</strong> provides high memory bandwidth in an average NUMA environment. <strong>Cluster on Die</strong> may provide increased memory bandwidth in highly optimized NUMA workloads. <strong>Early Snoop</strong> may decrease memory latency, but may result in lower overall bandwidth compared to other modes.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="installing-the-operating-system">
<h2><a class="toc-backref" href="#id5">Installing the Operating System</a><a class="headerlink" href="#installing-the-operating-system" title="Permalink to this heading"></a></h2>
<p>Once the BIOS settings have been set, you must install the operating system. Either the CentOS (versions 7.6-7.9) or RHEL (versions 7.6-7.9) must be installed before installing the SQream database, by either the customer or a SQream representative.</p>
<p><strong>To install the operating system:</strong></p>
<ol class="arabic">
<li><p>Select a language (English recommended).</p></li>
<li><p>From <strong>Software Selection</strong>, select <strong>Minimal</strong>.</p></li>
<li><p>Select the <strong>Development Tools</strong> group checkbox.</p></li>
<li><p>Continue the installation.</p></li>
<li><p>Set up the necessary drives and users as per the installation process.</p>
<p>Using Debugging Tools is recommended for future problem-solving if necessary.</p>
</li>
</ol>
<p>Selecting the <strong>Development Tools</strong> group installs the following tools:</p>
<blockquote>
<div><ul class="simple">
<li><p>autoconf</p></li>
<li><p>automake</p></li>
<li><p>binutils</p></li>
<li><p>bison</p></li>
<li><p>flex</p></li>
<li><p>gcc</p></li>
<li><p>gcc-c++</p></li>
<li><p>gettext</p></li>
<li><p>libtool</p></li>
<li><p>make</p></li>
<li><p>patch</p></li>
<li><p>pkgconfig</p></li>
<li><p>redhat-rpm-config</p></li>
<li><p>rpm-build</p></li>
<li><p>rpm-sign</p></li>
</ul>
</div></blockquote>
<p>The root user is created and the OS shell is booted up.</p>
</section>
<section id="configuring-the-operating-system">
<h2><a class="toc-backref" href="#id6">Configuring the Operating System</a><a class="headerlink" href="#configuring-the-operating-system" title="Permalink to this heading"></a></h2>
<p>Once you’ve installted your operation system, you can configure it. When configuring the operating system, several basic settings related to creating a new server are required. Configuring these as part of your basic set-up increases your server’s security and usability.</p>
<section id="logging-in-to-the-server">
<h3>Logging In to the Server<a class="headerlink" href="#logging-in-to-the-server" title="Permalink to this heading"></a></h3>
<p>You can log in to the server using the server’s IP address and password for the <strong>root</strong> user. The server’s IP address and <strong>root</strong> user were created while installing the operating system above.</p>
</section>
<section id="automatically-creating-a-sqream-user">
<h3>Automatically Creating a SQream User<a class="headerlink" href="#automatically-creating-a-sqream-user" title="Permalink to this heading"></a></h3>
<p><strong>To automatically create a SQream user:</strong></p>
<ol class="arabic">
<li><p>If a SQream user was created during installation, verify that the same ID is used on every server:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo id sqream
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>The ID <strong>1000</strong> is used on each server in the following example:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nv">uid</span><span class="o">=</span><span class="m">1000</span><span class="o">(</span>sqream<span class="o">)</span> <span class="nv">gid</span><span class="o">=</span><span class="m">1000</span><span class="o">(</span>sqream<span class="o">)</span> <span class="nv">groups</span><span class="o">=</span><span class="m">1000</span><span class="o">(</span>sqream<span class="o">)</span>
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>If the ID’s are different, delete the SQream user and SQream group from both servers:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo userdel sqream
</pre></div>
</div>
</li>
<li><p>Recreate it using the same ID:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo rm /var/spool/mail/sqream
</pre></div>
</div>
</li>
</ol>
</section>
<section id="manually-creating-a-sqream-user">
<h3>Manually Creating a SQream User<a class="headerlink" href="#manually-creating-a-sqream-user" title="Permalink to this heading"></a></h3>
<p><strong>To manually create a SQream user:</strong></p>
<p>SQream enables you to manually create users. This section shows you how to manually create a user with the UID <strong>1111</strong>. You cannot manually create during the operating system installation procedure.</p>
<ol class="arabic">
<li><p>Add a user with an identical UID on all cluster nodes:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>useradd -u <span class="m">1111</span> sqream
</pre></div>
</div>
</li>
<li><p>Add the user <strong>sqream</strong> to the <strong>wheel</strong> group.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo usermod -aG wheel sqream
</pre></div>
</div>
<p>You can remove the SQream user from the <strong>wheel</strong> group when the installation and configuration are complete:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>passwd sqream
</pre></div>
</div>
</li>
<li><p>Log out and log back in as <strong>sqream</strong>.</p></li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you deleted the <strong>sqream</strong> user and recreated it with different ID, to avoid permission errors, you must change its ownership to /home/sqream.</p>
</div>
</div></blockquote>
<ol class="arabic" start="4">
<li><p>Change the <strong>sqream</strong> user’s ownership to /home/sqream:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo chown -R sqream:sqream /home/sqream
</pre></div>
</div>
</li>
</ol>
</section>
<section id="setting-up-a-locale">
<h3>Setting Up A Locale<a class="headerlink" href="#setting-up-a-locale" title="Permalink to this heading"></a></h3>
<p>SQream enables you to set up a locale. In this example, the locale used is your own location.</p>
<p><strong>To set up a locale:</strong></p>
<ol class="arabic">
<li><p>Set the language of the locale:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo localectl set-locale <span class="nv">LANG</span><span class="o">=</span>en_US.UTF-8
</pre></div>
</div>
</li>
<li><p>Set the time stamp (time and date) of the locale:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo timedatectl set-timezone Asia/Jerusalem
</pre></div>
</div>
</li>
</ol>
<p>If needed, you can run the <strong>timedatectl list-timezones</strong> command to see your current time-zone.</p>
</section>
<section id="installing-the-required-packages">
<h3>Installing the Required Packages<a class="headerlink" href="#installing-the-required-packages" title="Permalink to this heading"></a></h3>
<p>You can install the required packages by running the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install ntp pciutils monit zlib-devel openssl-devel kernel-devel-<span class="k">$(</span>uname -r<span class="k">)</span> kernel-headers-<span class="k">$(</span>uname -r<span class="k">)</span> gcc net-tools wget jq
</pre></div>
</div>
</section>
<section id="installing-the-recommended-tools">
<h3>Installing the Recommended Tools<a class="headerlink" href="#installing-the-recommended-tools" title="Permalink to this heading"></a></h3>
<p>You can install the recommended tools by running the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install bash-completion.noarch vim-enhanced vim-common net-tools iotop htop psmisc screen xfsprogs wget yum-utils deltarpm dos2unix
</pre></div>
</div>
</section>
<section id="installing-python-3-6-7">
<h3>Installing Python 3.6.7<a class="headerlink" href="#installing-python-3-6-7" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Download the Python 3.6.7 source code tarball file from the following URL into the <strong>/home/sqream</strong> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>wget https://www.python.org/ftp/python/3.6.7/Python-3.6.7.tar.xz
</pre></div>
</div>
</li>
<li><p>Extract the Python 3.6.7 source code into your current directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>tar -xf Python-3.6.7.tar.xz
</pre></div>
</div>
</li>
<li><p>Navigate to the Python 3.6.7 directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> Python-3.6.7
</pre></div>
</div>
</li>
<li><p>Run the <strong>./configure</strong> script:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>./configure
</pre></div>
</div>
</li>
<li><p>Build the software:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>make -j30
</pre></div>
</div>
</li>
<li><p>Install the software:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo make install
</pre></div>
</div>
</li>
<li><p>Verify that Python 3.6.7 has been installed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>python3
</pre></div>
</div>
</li>
</ol>
</section>
<section id="installing-nodejs-on-centos">
<h3>Installing NodeJS on CentOS<a class="headerlink" href="#installing-nodejs-on-centos" title="Permalink to this heading"></a></h3>
<p><strong>To install the node.js on CentOS:</strong></p>
<ol class="arabic">
<li><p>Download the <a class="reference external" href="https://rpm.nodesource.com/setup_12.x">setup_12.x file</a> as a root user logged in shell:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>curl -sL https://rpm.nodesource.com/setup_12.x <span class="p">|</span> sudo bash -
</pre></div>
</div>
</li>
<li><p>Clear the YUM cache and update the local metadata:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum clean all <span class="o">&amp;&amp;</span> sudo yum makecache fast
</pre></div>
</div>
</li>
<li><p>Install the <strong>node.js</strong> file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install -y nodejs
</pre></div>
</div>
</li>
<li><p>Install npm and make it available for all users:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo npm install pm2 -g
</pre></div>
</div>
</li>
</ol>
</section>
<section id="installing-nodejs-on-ubuntu">
<h3>Installing NodeJS on Ubuntu<a class="headerlink" href="#installing-nodejs-on-ubuntu" title="Permalink to this heading"></a></h3>
<p><strong>To install the node.js file on Ubuntu:</strong></p>
<ol class="arabic">
<li><p>Download the <a class="reference external" href="https://deb.nodesource.com/setup_12.x">setup_12.x file</a> as a root user logged in shell:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>curl -sL https://rpm.nodesource.com/setup_12.x <span class="p">|</span> sudo bash -
</pre></div>
</div>
</li>
<li><p>Install the node.js file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo apt-get install -y nodejs
</pre></div>
</div>
</li>
<li><p>Install npm and make it available for all users:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo npm install pm2 -g
</pre></div>
</div>
</li>
</ol>
</section>
<section id="installing-nodejs-offline">
<h3>Installing NodeJS Offline<a class="headerlink" href="#installing-nodejs-offline" title="Permalink to this heading"></a></h3>
<p><strong>To install NodeJS Offline</strong></p>
<ol class="arabic">
<li><p>Download the NodeJS source code tarball file from the following URL into the <strong>/home/sqream</strong> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>wget https://nodejs.org/dist/v12.13.0/node-v12.13.0-linux-x64.tar.xz
</pre></div>
</div>
</li>
<li><p>Move the node-v12.13.0-linux-x64 file to the <em>/usr/local</em> directory.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo mv node-v12.13.0-linux-x64  /usr/local
</pre></div>
</div>
</li>
<li><p>Navigate to the <em>/usr/bin/</em> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> /usr/bin
</pre></div>
</div>
</li>
<li><p>Create a symbolic link to the <em>/local/node-v12.13.0-linux-x64/bin/node node</em> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s ../local/node-v12.13.0-linux-x64/bin/node node
</pre></div>
</div>
</li>
<li><p>Create a symbolic link to the <em>/local/node-v12.13.0-linux-x64/bin/npm npm</em> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s ../local/node-v12.13.0-linux-x64/bin/npm npm
</pre></div>
</div>
</li>
<li><p>Create a symbolic link to the <em>/local/node-v12.13.0-linux-x64/bin/npx npx</em> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s ../local/node-v12.13.0-linux-x64/bin/npx npx
</pre></div>
</div>
</li>
<li><p>Verify that the node versions for the above are correct:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>node --version
</pre></div>
</div>
</li>
</ol>
</section>
<section id="installing-the-pm2-service-offline">
<h3>Installing the pm2 Service Offline<a class="headerlink" href="#installing-the-pm2-service-offline" title="Permalink to this heading"></a></h3>
<p><strong>To install the pm2 Service Offline</strong></p>
<ol class="arabic">
<li><p>On a machine with internet access, install the following:</p>
<ul class="simple">
<li><p>nodejs</p></li>
<li><p>npm</p></li>
<li><p>pm2</p></li>
</ul>
</li>
<li><p>Extract the pm2 module to the correct directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> /usr/local/node-v12.13.0-linux-x64/lib/node_modules
<span class="gp">$ </span>tar -czvf pm2_x86.tar.gz pm2
</pre></div>
</div>
</li>
<li><p>Copy the <strong>pm2_x86.tar.gz</strong> file to a server without access to the internet and extract it.</p>
<blockquote>
<div></div></blockquote>
</li>
<li><p>Move the <strong>pm2</strong> folder to the <em>/usr/local/node-v12.13.0-linux-x64/lib/node_modules</em> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo mv pm2 /usr/local/node-v12.13.0-linux-x64/lib/node_modules
</pre></div>
</div>
</li>
<li><p>Navigate back to the <em>/usr/bin</em> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> /usr/bin again
</pre></div>
</div>
</li>
<li><p>Create a symbolink to the <strong>pm2</strong> service:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ln -s /usr/local/node-v12.22.3-linux-x64/lib/node_modules/pm2/bin/pm2 pm2
</pre></div>
</div>
</div></blockquote>
<ol class="arabic" start="7">
<li><p>Verify that installation was successful:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>pm2 list
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>This must be done as a <strong>sqream</strong> user, and not as a <strong>sudo</strong> user.</p>
</div>
</div></blockquote>
<ol class="arabic simple" start="8">
<li><p>Verify that the node version is correct:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>node -v
</pre></div>
</div>
</div></blockquote>
</section>
<section id="configuring-the-network-time-protocol">
<h3>Configuring the Network Time Protocol<a class="headerlink" href="#configuring-the-network-time-protocol" title="Permalink to this heading"></a></h3>
<p>This section describes how to configure your <strong>Network Time Protocol (NTP)</strong>.</p>
<p>If you don’t have internet access, see <a class="reference external" href="https://www.thegeekstuff.com/2014/06/linux-ntp-server-client/">Configure NTP Client to Synchronize with NTP Server</a>.</p>
<p><strong>To configure your NTP:</strong></p>
<ol class="arabic">
<li><p>Install the NTP file.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install ntp
</pre></div>
</div>
</li>
<li><p>Enable the <strong>ntpd</strong> program.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl <span class="nb">enable</span> ntpd
</pre></div>
</div>
</li>
<li><p>Start the <strong>ntdp</strong> program.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl start ntpd
</pre></div>
</div>
</li>
<li><p>Print a list of peers known to the server and a summary of their states.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ntpq -p
</pre></div>
</div>
</li>
</ol>
</section>
<section id="configuring-the-network-time-protocol-server">
<h3>Configuring the Network Time Protocol Server<a class="headerlink" href="#configuring-the-network-time-protocol-server" title="Permalink to this heading"></a></h3>
<p>If your organization has an NTP server, you can configure it.</p>
<p><strong>To configure your NTP server:</strong></p>
<ol class="arabic">
<li><p>Output your NTP server address and append <code class="docutils literal notranslate"><span class="pre">/etc/ntpd.conf</span></code> to the outuput.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> -e <span class="s2">&quot;\nserver &lt;your NTP server address&gt;\n&quot;</span> <span class="p">|</span> sudo tee -a /etc/ntp.conf
</pre></div>
</div>
</li>
<li><p>Restart the service.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl restart ntpd
</pre></div>
</div>
</li>
<li><p>Check that synchronization is enabled:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo timedatectl
</pre></div>
</div>
<p>Checking that synchronization is enabled generates the following output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">  $ </span>Local time: Sat <span class="m">2019</span>-10-12 <span class="m">17</span>:26:13 EDT
<span class="go"> Universal time: Sat 2019-10-12 21:26:13 UTC</span>
<span class="go">       RTC time: Sat 2019-10-12 21:26:13</span>
<span class="go">      Time zone: America/New_York (EDT, -0400)</span>
<span class="go">    NTP enabled: yes</span>
<span class="go">NTP synchronized: yes</span>
<span class="go">RTC in local TZ: no</span>
<span class="go">     DST active: yes</span>
<span class="go">Last DST change: DST began at</span>
<span class="go">                 Sun 2019-03-10 01:59:59 EST</span>
<span class="go">                 Sun 2019-03-10 03:00:00 EDT</span>
<span class="go">Next DST change: DST ends (the clock jumps one hour backwards) at</span>
<span class="go">                 Sun 2019-11-03 01:59:59 EDT</span>
<span class="go">                 Sun 2019-11-03 01:00:00 EST</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="configuring-the-server-to-boot-without-the-ui">
<h3>Configuring the Server to Boot Without the UI<a class="headerlink" href="#configuring-the-server-to-boot-without-the-ui" title="Permalink to this heading"></a></h3>
<p>You can configure your server to boot without a UI in cases when it is not required (recommended) by running the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl set-default multi-user.target
</pre></div>
</div>
<p>Running this command activates the <strong>NO-UI</strong> server mode.</p>
</section>
<section id="configuring-the-security-limits">
<h3>Configuring the Security Limits<a class="headerlink" href="#configuring-the-security-limits" title="Permalink to this heading"></a></h3>
<p>The security limits refers to the number of open files, processes, etc.</p>
<p>You can configure the security limits by running the <strong>echo -e</strong> command as a root user logged in shell:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo bash
</pre></div>
</div>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> -e <span class="s2">&quot;sqream soft nproc 1000000\nsqream hard nproc 1000000\nsqream soft nofile 1000000\nsqream hard nofile 1000000\nsqream soft core unlimited\nsqream hard core unlimited&quot;</span> &gt;&gt; /etc/security/limits.conf
</pre></div>
</div>
</section>
<section id="configuring-the-kernel-parameters">
<h3>Configuring the Kernel Parameters<a class="headerlink" href="#configuring-the-kernel-parameters" title="Permalink to this heading"></a></h3>
<p><strong>To configure the kernel parameters:</strong></p>
<ol class="arabic">
<li><p>Insert a new line after each kernel parameter:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> -e <span class="s2">&quot;vm.dirty_background_ratio = 5 \n vm.dirty_ratio = 10 \n vm.swappiness = 10 \n vm.vfs_cache_pressure = 200 \n vm.zone_reclaim_mode = 0 \n&quot;</span> &gt;&gt; /etc/sysctl.conf
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the past, the <strong>vm.zone_reclaim_mode</strong> parameter was set to <strong>7.</strong> In the latest Sqream version, the vm.zone_reclaim_mode parameter must be set to <strong>0</strong>. If it is not set to <strong>0</strong>, when a numa node runs out of memory, the system will get stuck and will be unable to pull memory from other numa nodes.</p>
</div>
</div></blockquote>
<ol class="arabic" start="2">
<li><p>Check the maximum value of the <strong>fs.file</strong>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sysctl -n fs.file-max
</pre></div>
</div>
</li>
<li><p>If the maximum value of the <strong>fs.file</strong> is smaller than <strong>2097152</strong>, run the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">echo</span> <span class="s2">&quot;fs.file-max=2097152&quot;</span> &gt;&gt; /etc/sysctl.conf
</pre></div>
</div>
<p><strong>IP4 forward</strong> must be enabled for Docker and K8s installation only.</p>
</li>
<li><p>Run the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo <span class="nb">echo</span> “net.ipv4.ip_forward <span class="o">=</span> <span class="m">1</span>” &gt;&gt; /etc/sysctl.conf
</pre></div>
</div>
</li>
<li><p>Reboot your system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo reboot
</pre></div>
</div>
</li>
</ol>
</section>
<section id="configuring-the-firewall">
<h3>Configuring the Firewall<a class="headerlink" href="#configuring-the-firewall" title="Permalink to this heading"></a></h3>
<p>The example in this section shows the open ports for four sqreamd sessions. If more than four are required, open the required ports as needed. Port 8080 in the example below is a new UI port.</p>
<p><strong>To configure the firewall:</strong></p>
<ol class="arabic">
<li><p>Start the service and enable FirewallID on boot:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>systemctl start firewalld
</pre></div>
</div>
</li>
<li><p>Add the following ports to the permanent firewall:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>firewall-cmd --zone<span class="o">=</span>public --permanent --add-port<span class="o">=</span><span class="m">8080</span>/tcp
<span class="gp">$ </span>firewall-cmd --zone<span class="o">=</span>public --permanent --add-port<span class="o">=</span><span class="m">3105</span>/tcp
<span class="gp">$ </span>firewall-cmd --zone<span class="o">=</span>public --permanent --add-port<span class="o">=</span><span class="m">3108</span>/tcp
<span class="gp">$ </span>firewall-cmd --zone<span class="o">=</span>public --permanent --add-port<span class="o">=</span><span class="m">5000</span>-5003/tcp
<span class="gp">$ </span>firewall-cmd --zone<span class="o">=</span>public --permanent --add-port<span class="o">=</span><span class="m">5100</span>-5103/tcp
<span class="gp">$ </span>firewall-cmd --permanent --list-all
</pre></div>
</div>
</li>
<li><p>Reload the firewall:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>firewall-cmd --reload
</pre></div>
</div>
</li>
<li><p>Enable FirewallID on boot:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>systemctl <span class="nb">enable</span> firewalld
</pre></div>
</div>
<p>If you do not need the firewall, you can disable it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl disable firewalld
</pre></div>
</div>
</li>
</ol>
</section>
<section id="disabling-selinux">
<h3>Disabling selinux<a class="headerlink" href="#disabling-selinux" title="Permalink to this heading"></a></h3>
<p><strong>To disable selinux:</strong></p>
<ol class="arabic">
<li><p>Show the status of <strong>selinux</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo sestatus
</pre></div>
</div>
</li>
<li><p>If the output is not <strong>disabled</strong>, edit the <strong>/etc/selinux/config</strong> file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo vim /etc/selinux/config
</pre></div>
</div>
</li>
<li><p>Change <strong>SELINUX=enforcing</strong> to <strong>SELINUX=disabled</strong>.</p>
<p>The above changes will only take effect after rebooting the server.</p>
<p>You can disable selinux immediately after rebooting the server by running the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo setenforce <span class="m">0</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="configuring-the-etc-hosts-file">
<h3>Configuring the /etc/hosts File<a class="headerlink" href="#configuring-the-etc-hosts-file" title="Permalink to this heading"></a></h3>
<p><strong>To configure the /etc/hosts file:</strong></p>
<ol class="arabic">
<li><p>Edit the <strong>/etc/hosts</strong> file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo vim /etc/hosts
</pre></div>
</div>
</li>
<li><p>Call your local host:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="m">127</span>.0.0.1       localhost
<span class="gp">$ </span>&lt;server1 ip&gt;    &lt;server_name&gt;
<span class="gp">$ </span>&lt;server2 ip&gt;    &lt;server_name&gt;
</pre></div>
</div>
</li>
</ol>
</section>
<section id="configuring-the-dns">
<h3>Configuring the DNS<a class="headerlink" href="#configuring-the-dns" title="Permalink to this heading"></a></h3>
<p><strong>To configure the DNS:</strong></p>
<ol class="arabic">
<li><p>Run the <strong>ifconfig</strong> commasnd to check your NIC name. In the following example, <strong>eth0</strong> is the NIC name:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo vim /etc/sysconfig/network-scripts/ifcfg-eth0
</pre></div>
</div>
</li>
<li><p>Replace the DNS lines from the example above with your own DNS addresses :</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nv">DNS1</span><span class="o">=</span><span class="s2">&quot;4.4.4.4&quot;</span>
<span class="gp">$ </span><span class="nv">DNS2</span><span class="o">=</span><span class="s2">&quot;8.8.8.8&quot;</span>
</pre></div>
</div>
</li>
</ol>
</section>
</section>
<section id="installing-the-nvidia-cuda-driver">
<h2><a class="toc-backref" href="#id7">Installing the Nvidia CUDA Driver</a><a class="headerlink" href="#installing-the-nvidia-cuda-driver" title="Permalink to this heading"></a></h2>
<p>After configuring your operating system, you must install the Nvidia CUDA driver.</p>
<blockquote>
<div><div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If your UI runs on the server, the server must be stopped before installing the CUDA drivers.</p>
</div>
</div></blockquote>
<section id="cuda-driver-prerequisites">
<h3>CUDA Driver Prerequisites<a class="headerlink" href="#cuda-driver-prerequisites" title="Permalink to this heading"></a></h3>
<ol class="arabic">
<li><p>Verify that the NVIDIA card has been installed and is detected by the system:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lspci <span class="p">|</span> grep -i nvidia
</pre></div>
</div>
</li>
<li><p>Check which version of gcc has been installed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>gcc --version
</pre></div>
</div>
</li>
<li><p>If gcc has not been installed, install it for one of the following operating systems:</p>
<ul>
<li><p>On RHEL/CentOS:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install -y gcc
</pre></div>
</div>
</li>
<li><p>On Ubuntu:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo apt-get install gcc
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
</section>
<section id="updating-the-kernel-headers">
<h3>Updating the Kernel Headers<a class="headerlink" href="#updating-the-kernel-headers" title="Permalink to this heading"></a></h3>
<p><strong>To update the kernel headers:</strong></p>
<ol class="arabic">
<li><p>Update the kernel headers on one of the following operating systems:</p>
<ul>
<li><p>On RHEL/CentOS:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install kernel-devel-<span class="k">$(</span>uname -r<span class="k">)</span> kernel-headers-<span class="k">$(</span>uname -r<span class="k">)</span>
</pre></div>
</div>
</li>
<li><p>On Ubuntu:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo apt-get install linux-headers-<span class="k">$(</span>uname -r<span class="k">)</span>
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Install <strong>wget</strong> one of the following operating systems:</p>
<ul>
<li><p>On RHEL/CentOS:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install wget
</pre></div>
</div>
</li>
<li><p>On Ubuntu:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo apt-get install wget
</pre></div>
</div>
</li>
</ul>
</li>
</ol>
</section>
<section id="disabling-nouveau">
<h3>Disabling Nouveau<a class="headerlink" href="#disabling-nouveau" title="Permalink to this heading"></a></h3>
<p>You can disable Nouveau, which is the default driver.</p>
<p><strong>To disable Nouveau:</strong></p>
<ol class="arabic">
<li><p>Check if the Nouveau driver has been loaded:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>lsmod <span class="p">|</span> grep nouveau
</pre></div>
</div>
<p>If the Nouveau driver has been loaded, the command above generates output.</p>
</li>
<li><p>Blacklist the Nouveau drivers to disable them:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat &lt;&lt;EOF <span class="p">|</span> sudo tee /etc/modprobe.d/blacklist-nouveau.conf
<span class="go">  blacklist nouveau</span>
<span class="go">  options nouveau modeset=0</span>
<span class="go">  EOF</span>
</pre></div>
</div>
</li>
<li><p>Regenerate the kernel <strong>initramfs</strong> directory set:</p></li>
</ol>
<blockquote>
<div><ol class="arabic">
<li><p>Modify the <strong>initramfs</strong> directory set:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo dracut --force
</pre></div>
</div>
</li>
<li><p>Reboot the server:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo reboot
</pre></div>
</div>
</li>
</ol>
</div></blockquote>
</section>
<section id="installing-the-cuda-driver">
<h3>Installing the CUDA Driver<a class="headerlink" href="#installing-the-cuda-driver" title="Permalink to this heading"></a></h3>
<p>This section describes how to install the CUDA driver.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The version of the driver installed on the customer’s server must be equal or higher than the driver included in the Sqream release package. Contact a Sqream customer service representative to identify the correct version to install.</p>
</div>
<p>The <strong>Installing the CUDA Driver</strong> section describes the following:</p>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#installing-the-cuda-driver-from-the-repository" id="id9">Installing the CUDA Driver from the Repository</a></p></li>
<li><p><a class="reference internal" href="#tuning-up-nvidia-performance" id="id10">Tuning Up NVIDIA Performance</a></p></li>
<li><p><a class="reference internal" href="#disabling-automatic-bug-reporting-tools" id="id11">Disabling Automatic Bug Reporting Tools</a></p></li>
</ul>
</div>
<section id="installing-the-cuda-driver-from-the-repository">
<h4><a class="toc-backref" href="#id9">Installing the CUDA Driver from the Repository</a><a class="headerlink" href="#installing-the-cuda-driver-from-the-repository" title="Permalink to this heading"></a></h4>
<p>Installing the CUDA driver from the Repository is the recommended installation method.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For A100 GPU and other A series GPUs, you must install the <strong>cuda 11.4.3 driver</strong>. The version of the driver installed on the customer server must be equal to or higher than the one used to build the SQream package. For questions related to which driver to install, contact SQream Customer Support.</p>
</div>
<p><strong>To install the CUDA driver from the Repository:</strong></p>
<ol class="arabic">
<li><p>Install the CUDA dependencies for one of the following operating systems:</p>
<ul>
<li><p>For RHEL:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo rpm -Uvh http://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
</pre></div>
</div>
</li>
<li><p>For CentOS:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install epel-release
</pre></div>
</div>
</li>
</ul>
</li>
<li><p>Install the CUDA dependencies from the <strong>epel</strong> repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum install dkms libvdpau
</pre></div>
</div>
<p>Installing the CUDA depedendencies from the <strong>epel</strong> repository is only required for installing <strong>runfile</strong>.</p>
</li>
<li><p>Download and install the required local repository:</p>
<ul>
<li><p><strong>Intel - CUDA 10.1 for RHEL7</strong>:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>wget http://developer.download.nvidia.com/compute/cuda/10.1/Prod/local_installers/cuda-repo-rhel7-10-1-local-10.1.243-418.87.00-1.0-1.x86_64.rpm
<span class="gp">$ </span>sudo yum localinstall cuda-repo-rhel7-10-1-local-10.1.243-418.87.00-1.0-1.x86_64.rpm
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>Intel - 11.4.3 repository</strong>:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>wget https://developer.download.nvidia.com/compute/cuda/11.4.3/local_installers/cuda-repo-rhel7-11-4-local-11.4.3_470.82.01-1.x86_64.rpm
<span class="gp">$ </span>sudo yum localinstall cuda-repo-rhel7-11-4-local-11.4.3_470.82.01-1.x86_64.rpm
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>IBM Power9 - CUDA 10.1 for RHEL7</strong>:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>wget https://developer.download.nvidia.com/compute/cuda/10.1/Prod/local_installers/cuda-repo-rhel7-10-1-local-10.1.243-418.87.00-1.0-1.ppc64le.rpm
<span class="gp">$ </span>sudo yum localinstall cuda-repo-rhel7-10-1-local-10.1.243-418.87.00-1.0-1.ppc64le.rpm
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For Power9 with V100 GPUs, you must install the <strong>CUDA 10.1</strong> driver.</p>
</div>
<ol class="arabic" start="4">
<li><p>Install the CUDA drivers:</p>
<ol class="loweralpha">
<li><p>Clear the YUM cache:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum clean all
</pre></div>
</div>
</li>
<li><p>Install the most current DKMS (Dynamic Kernel Module Support) NVIDIA driver:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum -y install nvidia-driver-latest-dkms
</pre></div>
</div>
</li>
</ol>
</li>
<li><p>Verify that the installation was successful:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nvidia-smi
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you do not have access to internet, you can set up a local repository offline.</p>
</div>
<p>You can prepare the CUDA driver offline from a server connected to the CUDA repo by running the following commands as a <em>root</em> user:</p>
<ol class="arabic" start="6">
<li><p>Query all the packages installed in your system, and verify that cuda-repo has been installed:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>rpm -qa <span class="p">|</span>grep cuda-repo
</pre></div>
</div>
</li>
<li><p>Navigate to the correct repository:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">cd</span> /etc/yum.repos.d/
</pre></div>
</div>
</li>
<li><p>List in long format and print lines matching a pattern for the cuda file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ls -l <span class="p">|</span>grep cuda
</pre></div>
</div>
<p>The following is an example of the correct output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cuda-10-1-local.repo
</pre></div>
</div>
</li>
<li><p>Edit the <strong>/etc/yum.repos.d/cuda-10-1-local.repo</strong> file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>vim /etc/yum.repos.d/cuda-10-1-local.repo
</pre></div>
</div>
<p>The following is an example of the correct output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nv">name</span><span class="o">=</span>cuda-10-1-local
</pre></div>
</div>
</li>
<li><p>Clone the repository to a location where it can be copied from:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>reposync -g -l -m --repoid<span class="o">=</span>cuda-10-1-local --download_path<span class="o">=</span>/var/cuda-repo-10.1-local
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="11">
<li><p>Copy the repository to the installation server and create the repository:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>createrepo -g comps.xml /var/cuda-repo-10.1-local
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="12">
<li><p>Add a repo configuration file in <strong>/etc/yum.repos.d/</strong> by editing the <strong>/etc/yum.repos.d/cuda-10.1-local.repo</strong> repository:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="o">[</span>cuda-10.1-local<span class="o">]</span>
<span class="gp">$ </span><span class="nv">name</span><span class="o">=</span>cuda-10.1-local
<span class="gp">$ </span><span class="nv">baseurl</span><span class="o">=</span>file:///var/cuda-repo-10.1-local
<span class="gp">$ </span><span class="nv">enabled</span><span class="o">=</span><span class="m">1</span>
<span class="gp">$ </span><span class="nv">gpgcheck</span><span class="o">=</span><span class="m">1</span>
<span class="gp">$ </span><span class="nv">gpgkey</span><span class="o">=</span>file:///var/cuda-repo-10-1-local/7fa2af80.pub
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="13">
<li><p>Install the CUDA drivers by installing the most current DKMS (Dynamic Kernel Module Support) NVIDIA driver as a root user logged in shell:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo yum -y install nvidia-driver-latest-dkms
</pre></div>
</div>
</div></blockquote>
</section>
<section id="tuning-up-nvidia-performance">
<h4><a class="toc-backref" href="#id10">Tuning Up NVIDIA Performance</a><a class="headerlink" href="#tuning-up-nvidia-performance" title="Permalink to this heading"></a></h4>
<p>This section describes how to tune up NVIDIA performance.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The procedures in this section are relevant to Intel only.</p>
</div>
<div class="contents local topic" id="id2">
<ul class="simple">
<li><p><a class="reference internal" href="#to-tune-up-nvidia-performance-when-driver-installed-from-the-repository" id="id12">To Tune Up NVIDIA Performance when Driver Installed from the Repository</a></p></li>
<li><p><a class="reference internal" href="#to-tune-up-nvidia-performance-when-driver-installed-from-the-runfile" id="id13">To Tune Up NVIDIA Performance when Driver Installed from the Runfile</a></p></li>
</ul>
</div>
<section id="to-tune-up-nvidia-performance-when-driver-installed-from-the-repository">
<h5><a class="toc-backref" href="#id12">To Tune Up NVIDIA Performance when Driver Installed from the Repository</a><a class="headerlink" href="#to-tune-up-nvidia-performance-when-driver-installed-from-the-repository" title="Permalink to this heading"></a></h5>
<p><strong>To tune up NVIDIA performance when the driver was installed from the repository:</strong></p>
<ol class="arabic">
<li><p>Check the service status:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl status nvidia-persistenced
</pre></div>
</div>
<p>If the service exists, it will be stopped be default.</p>
</li>
<li><p>Start the service:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl start nvidia-persistenced
</pre></div>
</div>
</li>
<li><p>Verify that no errors have occurred:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl status nvidia-persistenced
</pre></div>
</div>
</li>
<li><p>Enable the service to start up on boot:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl <span class="nb">enable</span> nvidia-persistenced
</pre></div>
</div>
</li>
<li><p>For <strong>V100/A100</strong>, add the following lines:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nvidia-persistenced
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The following are mandatory for IBM:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl start nvidia-persistenced
<span class="gp">$ </span>sudo systemctl <span class="nb">enable</span> nvidia-persistenced
</pre></div>
</div>
</div>
</li>
<li><p>Reboot the server and run the <strong>NVIDIA System Management Interface (NVIDIA SMI)</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nvidia-smi
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting up the NVIDIA POWER9 CUDA driver includes additional set-up requirements. The NVIDIA POWER9 CUDA driver will not function properly if the additional set-up requirements are not followed. See <a class="reference external" href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#power9-setup">POWER9 Setup</a> for the additional set-up requirements.</p>
</div>
</section>
<section id="to-tune-up-nvidia-performance-when-driver-installed-from-the-runfile">
<h5><a class="toc-backref" href="#id13">To Tune Up NVIDIA Performance when Driver Installed from the Runfile</a><a class="headerlink" href="#to-tune-up-nvidia-performance-when-driver-installed-from-the-runfile" title="Permalink to this heading"></a></h5>
<p><strong>To tune up NVIDIA performance when the driver was installed from the runfile:</strong></p>
<ol class="arabic">
<li><p>Change the permissions on the <strong>rc.local</strong> file to <strong>executable</strong>:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo chmod +x /etc/rc.local
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Edit the <strong>/etc/yum.repos.d/cuda-10-1-local.repo</strong> file:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo vim /etc/rc.local
</pre></div>
</div>
</div></blockquote>
</li>
<li><p>Add the following lines:</p>
<ul>
<li><p><strong>For V100/A100</strong>:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nvidia-persistenced
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>For IBM (mandatory)</strong>:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo systemctl start nvidia-persistenced
<span class="gp">$ </span>sudo systemctl <span class="nb">enable</span> nvidia-persistenced
</pre></div>
</div>
</div></blockquote>
</li>
<li><p><strong>For K80</strong>:</p>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nvidia-persistenced
<span class="gp">$ </span>nvidia-smi -pm <span class="m">1</span>
<span class="gp">$ </span>nvidia-smi -acp <span class="m">0</span>
<span class="gp">$ </span>nvidia-smi --auto-boost-permission<span class="o">=</span><span class="m">0</span>
<span class="gp">$ </span>nvidia-smi --auto-boost-default<span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</li>
<li><p>Reboot the server and run the <strong>NVIDIA System Management Interface (NVIDIA SMI)</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nvidia-smi
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Setting up the NVIDIA POWER9 CUDA driver includes additional set-up requirements. The NVIDIA POWER9 CUDA driver will not function properly if the additional set-up requirements are not followed. See <a class="reference external" href="https://docs.nvidia.com/cuda/cuda-installation-guide-linux/index.html#power9-setup">POWER9 Setup</a> for the additional set-up requirements.</p>
</div>
</section>
</section>
<section id="disabling-automatic-bug-reporting-tools">
<h4><a class="toc-backref" href="#id11">Disabling Automatic Bug Reporting Tools</a><a class="headerlink" href="#disabling-automatic-bug-reporting-tools" title="Permalink to this heading"></a></h4>
<p><strong>To disable automatic bug reporting tools:</strong></p>
<ol class="arabic">
<li><p>Run the following <strong>abort</strong> commands:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="k">for</span> i <span class="k">in</span> abrt-ccpp.service abrtd.service abrt-oops.service abrt-pstoreoops.service abrt-vmcore.service abrt-xorg.service <span class="p">;</span> <span class="k">do</span> sudo systemctl disable <span class="nv">$i</span><span class="p">;</span> sudo systemctl stop <span class="nv">$i</span><span class="p">;</span> <span class="k">done</span>
</pre></div>
</div>
</li>
</ol>
<p>The server is ready for the SQream software installation.</p>
<ol class="arabic" start="2">
<li><p>Run the following checks:</p>
<ol class="loweralpha">
<li><p>Check the OS release:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat /etc/os-release
</pre></div>
</div>
</li>
<li><p>Verify that a SQream user exists and has the same ID on all cluster member services:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>id sqream
</pre></div>
</div>
</li>
<li><p>Verify that the storage is mounted:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mount
</pre></div>
</div>
</li>
<li><p>Verify that the driver has been installed correctly:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>nvidia-smi
</pre></div>
</div>
</li>
<li><p>Check the maximum value of the <strong>fs.file</strong>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sysctl -n fs.file-max
</pre></div>
</div>
</li>
<li><p>Run the following command as a SQream user:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">ulimit</span> -c -u -n
</pre></div>
</div>
</li>
</ol>
<blockquote>
<div><p>The following shows the desired output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>core file size <span class="o">(</span>blocks, -c<span class="o">)</span> unlimited
<span class="gp">$ </span>max user processes <span class="o">(</span>-u<span class="o">)</span> <span class="m">1000000</span>
<span class="gp">$ </span>open files <span class="o">(</span>-n<span class="o">)</span> <span class="m">1000000</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ol>
</section>
</section>
</section>
<section id="enabling-core-dumps">
<h2><a class="toc-backref" href="#id8">Enabling Core Dumps</a><a class="headerlink" href="#enabling-core-dumps" title="Permalink to this heading"></a></h2>
<p>After installing the Nvidia CUDA driver, you can enable your core dumps. While SQream recommends enabling your core dumps, it is optional.</p>
<p>The <strong>Enabling Core Dumps</strong> section describes the following:</p>
<div class="contents local topic" id="id3">
<ul class="simple">
<li><p><a class="reference internal" href="#checking-the-abrtd-status" id="id14">Checking the abrtd Status</a></p></li>
<li><p><a class="reference internal" href="#setting-the-limits" id="id15">Setting the Limits</a></p></li>
<li><p><a class="reference internal" href="#creating-the-core-dumps-directory" id="id16">Creating the Core Dumps Directory</a></p></li>
<li><p><a class="reference internal" href="#setting-the-output-directory-of-the-etc-sysctl-conf-file" id="id17">Setting the Output Directory of the /etc/sysctl.conf File</a></p></li>
<li><p><a class="reference internal" href="#verifying-that-the-core-dumps-work" id="id18">Verifying that the Core Dumps Work</a></p></li>
<li><p><a class="reference internal" href="#troubleshooting-core-dumping" id="id19">Troubleshooting Core Dumping</a></p></li>
</ul>
</div>
<section id="checking-the-abrtd-status">
<h3><a class="toc-backref" href="#id14">Checking the abrtd Status</a><a class="headerlink" href="#checking-the-abrtd-status" title="Permalink to this heading"></a></h3>
<p><strong>To check the abrtd status:</strong></p>
<ol class="arabic">
<li><p>Check if <strong>abrtd</strong> is running:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo ps -ef <span class="p">|</span>grep abrt
</pre></div>
</div>
</li>
<li><p>If <strong>abrtd</strong> is running, stop it:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo service abrtd stop
<span class="gp">$ </span>sudo chkconfig abrt-ccpp off
<span class="gp">$ </span>sudo chkconfig abrt-oops off
<span class="gp">$ </span>sudo chkconfig abrt-vmcore off
<span class="gp">$ </span>sudo chkconfig abrt-xorg off
<span class="gp">$ </span>sudo chkconfig abrtd off
</pre></div>
</div>
</li>
</ol>
</section>
<section id="setting-the-limits">
<h3><a class="toc-backref" href="#id15">Setting the Limits</a><a class="headerlink" href="#setting-the-limits" title="Permalink to this heading"></a></h3>
<p><strong>To set the limits:</strong></p>
<ol class="arabic">
<li><p>Set the limits:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">ulimit</span> -c
</pre></div>
</div>
</li>
<li><p>If the output is <strong>0</strong>, add the following lines to the <strong>limits.conf</strong> file (/etc/security):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>*          soft     core           unlimited
<span class="gp">$ </span>*          hard     core           unlimited
</pre></div>
</div>
</li>
<li><p>Log out and log in to apply the limit changes.</p></li>
</ol>
</section>
<section id="creating-the-core-dumps-directory">
<h3><a class="toc-backref" href="#id16">Creating the Core Dumps Directory</a><a class="headerlink" href="#creating-the-core-dumps-directory" title="Permalink to this heading"></a></h3>
<p><strong>To set the core dumps directory:</strong></p>
<ol class="arabic">
<li><p>Make the <strong>/tmp/core_dumps</strong> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>mkdir /tmp/core_dumps
</pre></div>
</div>
</li>
<li><p>Set the ownership of the <strong>/tmp/core_dumps</strong> directory:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo chown sqream.sqream /tmp/core_dumps
</pre></div>
</div>
</li>
<li><p>Grant read, write, and execute permissions to all users:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo chmod -R <span class="m">777</span> /tmp/core_dumps
</pre></div>
</div>
</li>
</ol>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Because the core dump file may be the size of total RAM on the server, verify that you have sufficient disk space. In the example above, the core dump is configured to the <em>/tmp/core_dumps</em> directory. You must replace path according to your own environment and disk space.</p>
</div>
</section>
<section id="setting-the-output-directory-of-the-etc-sysctl-conf-file">
<h3><a class="toc-backref" href="#id17">Setting the Output Directory of the /etc/sysctl.conf File</a><a class="headerlink" href="#setting-the-output-directory-of-the-etc-sysctl-conf-file" title="Permalink to this heading"></a></h3>
<p><strong>To set the output directory of the /etc/sysctl.conf file:</strong></p>
<ol class="arabic">
<li><p>Edit the <strong>/etc/sysctl.conf</strong> file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo vim /etc/sysctl.conf
</pre></div>
</div>
</li>
<li><p>Add the following to the bottom of the file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>kernel.core_uses_pid <span class="o">=</span> <span class="m">1</span>
<span class="gp">$ </span>kernel.core_pattern <span class="o">=</span> /&lt;tmp/core_dumps&gt;/core-%e-%s-%u-%g-%p-%t
<span class="gp">$ </span>fs.suid_dumpable <span class="o">=</span> <span class="m">2</span>
</pre></div>
</div>
</li>
<li><p>To apply the changes without rebooting the server, run the following:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo sysctl -p
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>Check that the core output directory points to the following:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo cat /proc/sys/kernel/core_pattern
</pre></div>
</div>
<p>The following shows the correct generated output:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>/tmp/core_dumps/core-%e-%s-%u-%g-%p-%t
</pre></div>
</div>
</div></blockquote>
<ol class="arabic simple" start="5">
<li><p>Verify that the core dumping works:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="k">select</span> abort_server<span class="o">()</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="verifying-that-the-core-dumps-work">
<h3><a class="toc-backref" href="#id18">Verifying that the Core Dumps Work</a><a class="headerlink" href="#verifying-that-the-core-dumps-work" title="Permalink to this heading"></a></h3>
<p>You can verify that the core dumps work only after installing and running SQream. This causes the server to crash and a new core.xxx file to be included in the folder that is written in <strong>/etc/sysctl.conf</strong></p>
<p><strong>To verify that the core dumps work:</strong></p>
<ol class="arabic">
<li><p>Stop and restart all SQream services.</p>
<blockquote>
<div></div></blockquote>
</li>
<li><p>Connect to SQream with ClientCmd and run the following command:</p></li>
</ol>
<blockquote>
<div><div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="k">select</span> abort_server<span class="o">()</span><span class="p">;</span>
</pre></div>
</div>
</div></blockquote>
</section>
<section id="troubleshooting-core-dumping">
<h3><a class="toc-backref" href="#id19">Troubleshooting Core Dumping</a><a class="headerlink" href="#troubleshooting-core-dumping" title="Permalink to this heading"></a></h3>
<p>This section describes the troubleshooting procedure to be followed if all parameters have been configured correctly, but the cores have not been created.</p>
<p><strong>To troubleshoot core dumping:</strong></p>
<ol class="arabic">
<li><p>Reboot the server.</p>
<blockquote>
<div></div></blockquote>
</li>
<li><p>Verify that you have folder permissions:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo chmod -R <span class="m">777</span> /tmp/core_dumps
</pre></div>
</div>
</li>
<li><p>Verify that the limits have been set correctly:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">ulimit</span> -c
</pre></div>
</div>
<p>If all parameters have been configured correctly, the correct output is:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>core file size          <span class="o">(</span>blocks, -c<span class="o">)</span> unlimited
<span class="gp">$ </span>open files                      <span class="o">(</span>-n<span class="o">)</span> <span class="m">1000000</span>
</pre></div>
</div>
</li>
<li><p>If all parameters have been configured correctly, but running <strong>ulimit -c</strong> outputs <strong>0</strong>, run the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo vim /etc/profile
</pre></div>
</div>
</li>
<li><p>Search for line and tag it with the <strong>hash</strong> symbol:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">ulimit</span> -S -c <span class="m">0</span> &gt; /dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</pre></div>
</div>
</li>
<li><p>Log out and log in.</p>
<blockquote>
<div></div></blockquote>
</li>
<li><p>Run the ulimit -c command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">ulimit</span> -c <span class="nb">command</span>
</pre></div>
</div>
</li>
<li><p>If the line is not found in <strong>/etc/profile</strong> directory, do the following:</p>
<ol class="loweralpha">
<li><p>Run the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo vim /etc/init.d/functions
</pre></div>
</div>
</li>
<li><p>Search for the following:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span><span class="nb">ulimit</span> -S -c <span class="si">${</span><span class="nv">DAEMON_COREFILE_LIMIT</span><span class="k">:-</span><span class="nv">0</span><span class="si">}</span> &gt;/dev/null <span class="m">2</span>&gt;<span class="p">&amp;</span><span class="m">1</span>
</pre></div>
</div>
</li>
<li><p>If the line is found, tag it with the <strong>hash</strong> symbol and reboot the server.</p></li>
</ol>
</li>
</ol>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="installing_and_launching_sqream.html" class="btn btn-neutral float-left" title="Installing and Launching SQream" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="installing_sqream_with_binary.html" class="btn btn-neutral float-right" title="Installing SQream Using Binary Packages" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 SQream.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>