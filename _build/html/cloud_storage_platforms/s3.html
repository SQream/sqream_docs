<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ingesting Data Using Amazon S3 &mdash; SQream Blue 1.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #133148" >
            <a href="../index.html">
            <img src="../_static/SQream_logo_without background-15.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting_started/index.html">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/login_and_connectors.html">Login and Connectors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/cost_management.html">Cost Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/performing_basic_sqream_operations.html">Performing Basic SQream Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/running_the_sqream_sql_client.html">Running the SQream SQL Client</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/creating_your_first_table.html">Creating Your First Table</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/listing_tables.html">Listing Tables</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/inserting_rows.html">Inserting Rows</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/running_queries.html">Running Queries</a></li>
<li class="toctree-l3"><a class="reference internal" href="../getting_started/saving_query_results_to_a_csv_or_psv_file.html">Saving Query Results to a CSV or PSV File</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference/index.html">Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../reference/blue_console.html">BLUE Console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../reference/sql/index.html">SQL Statements and Syntax</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_syntax/index.html">SQL Syntax Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_statements/index.html">SQL Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../reference/sql/sql_functions/index.html">SQL Functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/scalar_functions/index.html">Built-In Scalar Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/user_defined_functions/index.html">User-Defined Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/aggregate_functions/index.html">Aggregate Functions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reference/sql/sql_functions/window_functions/index.html">Window Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference/sql_feature_support.html">SQL Feature Checklist</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../data_type_guides/index.html">Data Type Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/converting_and_casting_types.html">Converting and Casting Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/supported_data_types.html">Supported Data Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../data_type_guides/supported_casts.html">Supported Casts</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_numeric.html">Numeric</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_boolean.html">Boolean</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_integer.html">Integer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_floating_point.html">Floating Point</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_string.html">String</a></li>
<li class="toctree-l3"><a class="reference internal" href="../data_type_guides/sql_data_types_date.html">Date</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../file_types/index.html">File Types</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../file_types/file_types_overview.html">File Types Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_types/avro.html">Avro</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_types/csv.html">CSV</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_types/parquet.html">Parquet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_types/orc.html">ORC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../file_types/json.html">JSON</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../feature_guides/index.html">Feature Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/python_functions.html">Python UDF (User-Defined Functions)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/concurrency_and_locks.html">Concurrency and Locks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../feature_guides/concurrency_and_scaling_in_sqream.html">Concurrency and Scaling in SQream DB</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../operational_guides/index.html">Operational Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/access_control.html">Access Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_overview.html">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_managing_roles.html">Managing Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_permissions.html">Permissions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_password_policy.html">Password Policy</a></li>
<li class="toctree-l3"><a class="reference internal" href="../operational_guides/access_control_departmental_example.html">Departmental Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/audit_log_operation.html">Audit Log</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/exporting_data.html">Exporting Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/monitoring_query_performance.html">Monitoring Query Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/seeing_system_objects_as_ddl.html">Seeing System Objects as DDL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../operational_guides/optimization_best_practices.html">Optimization and Best Practices</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../configuration_guides/index.html">Configuration Guides</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/bucket/bucket_integration.html">Bucket Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/spooling.html">Configuring the Spooling Feature</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/configuring_sqream.html">Configuring SQream</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration_guides/configuration_flags.html">Configuration Flags</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/admin_flags.html">Administration Flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_regular_flags.html">Regular Administration Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/admin_worker_flags.html">Worker Administration Flags</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration_guides/generic_flags.html">Generic Flags</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/generic_regular_flags.html">Regular Generic Flags</a></li>
<li class="toctree-l4"><a class="reference internal" href="../configuration_guides/generic_worker_flags.html">Worker Generic Flags</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../loading_and_unloading_data/index.html">Loading and Unloading Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/index.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../troubleshooting/index.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/remedying_slow_queries.html">Remedying Slow Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/resolving_common_issues.html">Resolving Common Issues</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/lock_related_issues.html">Lock Related Issues</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/information_for_support.html">Gathering Information for SQream Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #133148" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">SQream Blue</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Ingesting Data Using Amazon S3</li>

  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="ingesting-data-using-amazon-s3">
<span id="s3"></span><h1>Ingesting Data Using Amazon S3<a class="headerlink" href="#ingesting-data-using-amazon-s3" title="Permalink to this heading"></a></h1>
<p>SQream uses a native S3 connector for ingesting data. File names may contain wildcard characters, and the files can be in CSV or columnar format, such as Parquet and ORC.</p>
<p>The <strong>Amazon S3</strong> describes the following topics:</p>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#s3-configuration" id="id2">S3 Configuration</a></p></li>
<li><p><a class="reference internal" href="#s3-uri" id="id3">S3 URI</a></p></li>
<li><p><a class="reference internal" href="#authentication" id="id4">Authentication</a></p></li>
<li><p><a class="reference internal" href="#examples" id="id5">Examples</a></p>
<ul>
<li><p><a class="reference internal" href="#planning-for-data-staging" id="id6">Planning for Data Staging</a></p></li>
<li><p><a class="reference internal" href="#creating-a-foreign-table" id="id7">Creating a Foreign Table</a></p></li>
<li><p><a class="reference internal" href="#querying-foreign-tables" id="id8">Querying Foreign Tables</a></p></li>
<li><p><a class="reference internal" href="#bulk-loading-a-file-from-a-public-s3-bucket" id="id9">Bulk Loading a File from a Public S3 Bucket</a></p></li>
<li><p><a class="reference internal" href="#loading-files-from-an-authenticated-s3-bucket" id="id10">Loading Files from an Authenticated S3 Bucket</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="s3-configuration">
<h2><a class="toc-backref" href="#id2">S3 Configuration</a><a class="headerlink" href="#s3-configuration" title="Permalink to this heading"></a></h2>
<p>The best practice for granting access to AWS S3 is to create an <a class="reference external" href="https://docs.aws.amazon.com/IAM/latest/UserGuide/getting-started.html">Identity and Access Management (IAM)</a> user account. If creating an IAM user account is not possible, you may follow AWS guidelines for <a class="reference external" href="https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/global-config-object.html">using the global configuration object</a> and setting an <a class="reference external" href="https://docs.aws.amazon.com/sdk-for-javascript/v2/developer-guide/setting-region.html">AWS region</a></p>
</section>
<section id="s3-uri">
<h2><a class="toc-backref" href="#id3">S3 URI</a><a class="headerlink" href="#s3-uri" title="Permalink to this heading"></a></h2>
<p>When you want to access data in an S3 bucket (using <span class="xref std std-ref">copy_from</span> or loading to``external_tables``), you must specify the S3 URI with the file path.</p>
<p>The following is an example of the general S3 syntax:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">s3://bucket_name/path</span>
</pre></div>
</div>
</section>
<section id="authentication">
<h2><a class="toc-backref" href="#id4">Authentication</a><a class="headerlink" href="#authentication" title="Permalink to this heading"></a></h2>
<p>SQream supports <code class="docutils literal notranslate"><span class="pre">AWS</span> <span class="pre">ID</span></code> and <code class="docutils literal notranslate"><span class="pre">AWS</span> <span class="pre">SECRET</span></code> authentication. These should be specified when executing a statement.</p>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id5">Examples</a><a class="headerlink" href="#examples" title="Permalink to this heading"></a></h2>
<p>Use a foreign table to stage data from S3 before loading from CSV, Parquet, or ORC files.</p>
<p>The <strong>Examples</strong> section includes the following examples:</p>
<div class="contents local topic" id="id1">
<ul class="simple">
<li><p><a class="reference internal" href="#planning-for-data-staging" id="id11">Planning for Data Staging</a></p></li>
<li><p><a class="reference internal" href="#creating-a-foreign-table" id="id12">Creating a Foreign Table</a></p></li>
<li><p><a class="reference internal" href="#querying-foreign-tables" id="id13">Querying Foreign Tables</a></p></li>
<li><p><a class="reference internal" href="#bulk-loading-a-file-from-a-public-s3-bucket" id="id14">Bulk Loading a File from a Public S3 Bucket</a></p></li>
<li><p><a class="reference internal" href="#loading-files-from-an-authenticated-s3-bucket" id="id15">Loading Files from an Authenticated S3 Bucket</a></p></li>
</ul>
</div>
<section id="planning-for-data-staging">
<h3><a class="toc-backref" href="#id11">Planning for Data Staging</a><a class="headerlink" href="#planning-for-data-staging" title="Permalink to this heading"></a></h3>
<p>The examples in this section are based on a CSV file, as shown in the following table:</p>
<p>The file is stored on Amazon S3, and this bucket is public and listable. To create a matching <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">FOREIGN</span> <span class="pre">TABLE</span></code> statement you can make note of the file structure.</p>
</section>
<section id="creating-a-foreign-table">
<h3><a class="toc-backref" href="#id12">Creating a Foreign Table</a><a class="headerlink" href="#creating-a-foreign-table" title="Permalink to this heading"></a></h3>
<p>Based on the source file’s structure, you can create a foreign table with the appropriate structure, and point it to your file as shown in the following example:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">CREATE</span><span class="w"> </span><span class="k">FOREIGN</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">nba</span><span class="w"></span>
<span class="p">(</span><span class="w"></span>
<span class="w">   </span><span class="k">Name</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mf">40</span><span class="p">),</span><span class="w"></span>
<span class="w">   </span><span class="n">Team</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mf">40</span><span class="p">),</span><span class="w"></span>
<span class="w">   </span><span class="n">Number</span><span class="w"> </span><span class="n">tinyint</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="k">Position</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mf">2</span><span class="p">),</span><span class="w"></span>
<span class="w">   </span><span class="n">Age</span><span class="w"> </span><span class="n">tinyint</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="n">Height</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mf">4</span><span class="p">),</span><span class="w"></span>
<span class="w">   </span><span class="n">Weight</span><span class="w"> </span><span class="nb">real</span><span class="p">,</span><span class="w"></span>
<span class="w">   </span><span class="n">College</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mf">40</span><span class="p">),</span><span class="w"></span>
<span class="w">   </span><span class="n">Salary</span><span class="w"> </span><span class="k">float</span><span class="w"></span>
<span class="w"> </span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="k">WRAPPER</span><span class="w"> </span><span class="n">csv_fdw</span><span class="w"></span>
<span class="w"> </span><span class="k">OPTIONS</span><span class="w"></span>
<span class="w">   </span><span class="p">(</span><span class="w"></span>
<span class="w">      </span><span class="k">LOCATION</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;s3://sqream-demo-data/nba_players.csv&#39;</span><span class="p">,</span><span class="w"></span>
<span class="w">      </span><span class="n">RECORD_DELIMITER</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;\r\n&#39;</span><span class="w"> </span><span class="c1">-- DOS delimited file</span>
<span class="w">   </span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>In the example above the file format is CSV, and it is stored as an S3 object. If the path is on HDFS, you must change the URI accordingly. Note that the record delimiter is a DOS newline (<code class="docutils literal notranslate"><span class="pre">\r\n</span></code>).</p>
<p>For more information, see the following:</p>
<ul class="simple">
<li><p><strong>Creating a foreign table</strong> - see <a class="reference internal" href="../reference/sql/sql_statements/ddl_commands/create_foreign_table.html#create-foreign-table"><span class="std std-ref">create a foreign table</span></a>.</p></li>
<li><p><strong>Using SQream in an HDFS environment</strong> - see <span class="xref std std-ref">hdfs</span>.</p></li>
</ul>
</section>
<section id="querying-foreign-tables">
<h3><a class="toc-backref" href="#id13">Querying Foreign Tables</a><a class="headerlink" href="#querying-foreign-tables" title="Permalink to this heading"></a></h3>
<p>The following shows the data in the foreign table:</p>
<div class="highlight-psql notranslate"><div class="highlight"><pre><span></span><span class="gp">t=&gt;</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">nba</span><span class="w"> </span><span class="k">LIMIT</span><span class="w"> </span><span class="mf">10</span><span class="p">;</span><span class="w"></span>
<span class="go">name          | team           | number | position | age | height | weight | college           | salary</span>
<span class="go">--------------+----------------+--------+----------+-----+--------+--------+-------------------+---------</span>
<span class="go">Avery Bradley | Boston Celtics |      0 | PG       |  25 | 6-2    |    180 | Texas             |  7730337</span>
<span class="go">Jae Crowder   | Boston Celtics |     99 | SF       |  25 | 6-6    |    235 | Marquette         |  6796117</span>
<span class="go">John Holland  | Boston Celtics |     30 | SG       |  27 | 6-5    |    205 | Boston University |</span>
<span class="go">R.J. Hunter   | Boston Celtics |     28 | SG       |  22 | 6-5    |    185 | Georgia State     |  1148640</span>
<span class="go">Jonas Jerebko | Boston Celtics |      8 | PF       |  29 | 6-10   |    231 |                   |  5000000</span>
<span class="go">Amir Johnson  | Boston Celtics |     90 | PF       |  29 | 6-9    |    240 |                   | 12000000</span>
<span class="go">Jordan Mickey | Boston Celtics |     55 | PF       |  21 | 6-8    |    235 | LSU               |  1170960</span>
<span class="go">Kelly Olynyk  | Boston Celtics |     41 | C        |  25 | 7-0    |    238 | Gonzaga           |  2165160</span>
<span class="go">Terry Rozier  | Boston Celtics |     12 | PG       |  22 | 6-2    |    190 | Louisville        |  1824360</span>
<span class="go">Marcus Smart  | Boston Celtics |     36 | PG       |  22 | 6-4    |    220 | Oklahoma State    |  3431040</span>
</pre></div>
</div>
</section>
<section id="bulk-loading-a-file-from-a-public-s3-bucket">
<h3><a class="toc-backref" href="#id14">Bulk Loading a File from a Public S3 Bucket</a><a class="headerlink" href="#bulk-loading-a-file-from-a-public-s3-bucket" title="Permalink to this heading"></a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">COPY</span> <span class="pre">FROM</span></code> command can also be used to load data without staging it first.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The bucket must be publicly available and objects can be listed.</p>
</div>
<p>The following is an example of bulk loading a file from a public S3 bucket:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">COPY</span><span class="w"> </span><span class="n">nba</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;s3://sqream-demo-data/nba.csv&#39;</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">OFFSET</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="nb">RECORD</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="s1">&#39;\r\n&#39;</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>For more information on the <code class="docutils literal notranslate"><span class="pre">COPY</span> <span class="pre">FROM</span></code> command, see <span class="xref std std-ref">copy_from</span>.</p>
</section>
<section id="loading-files-from-an-authenticated-s3-bucket">
<h3><a class="toc-backref" href="#id15">Loading Files from an Authenticated S3 Bucket</a><a class="headerlink" href="#loading-files-from-an-authenticated-s3-bucket" title="Permalink to this heading"></a></h3>
<p>The following is an example of loading fles from an authenticated S3 bucket:</p>
<div class="highlight-postgres notranslate"><div class="highlight"><pre><span></span><span class="k">COPY</span><span class="w"> </span><span class="n">nba</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="s1">&#39;s3://secret-bucket/*.csv&#39;</span><span class="w"> </span><span class="k">WITH</span><span class="w"> </span><span class="k">OFFSET</span><span class="w"> </span><span class="mf">2</span><span class="w"> </span><span class="nb">RECORD</span><span class="w"> </span><span class="k">DELIMITER</span><span class="w"> </span><span class="s1">&#39;\r\n&#39;</span><span class="w"></span>
<span class="n">AWS_ID</span><span class="w"> </span><span class="s1">&#39;12345678&#39;</span><span class="w"></span>
<span class="n">AWS_SECRET</span><span class="w"> </span><span class="s1">&#39;super_secretive_secret&#39;</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023 SQream.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>